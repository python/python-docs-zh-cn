# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2001-2023, Python Software Foundation
# This file is distributed under the same license as the Python package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
# 
# Translators:
# Lu <lu2github@gmail.com>, 2023
# sgqy <sgqyzh@gmail.com>, 2023
# jacky <jackylvm@foxmail.com>, 2023
# Makdon <makdon@makdon.me>, 2023
# Siyuan Xu, 2023
# Yi Cao <1783250036@qq.com>, 2023
# Kaizhao Zhang <zhangkaizhao@gmail.com>, 2023
# Sefank <sefank@foxmail.com>, 2023
# Leo Li <foxleoly@hotmail.com>, 2023
# ppcfish <ppcfish@gmail.com>, 2023
# Nyuan Zhang, 2023
# Dai Xu <daixu61@hotmail.com>, 2023
# 汇民 王 <whuim@qq.com>, 2023
# Alpha Du <alphanow@gmail.com>, 2023
# Freesand Leo <yuqinju@163.com>, 2023
# 
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Python 3.12\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2023-09-08 14:13+0000\n"
"PO-Revision-Date: 2023-05-24 13:08+0000\n"
"Last-Translator: Freesand Leo <yuqinju@163.com>, 2023\n"
"Language-Team: Chinese (China) (https://app.transifex.com/python-doc/teams/5390/zh_CN/)\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_CN\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#: ../../whatsnew/3.12.rst:4
msgid "What's New In Python 3.12"
msgstr "Python 3.12 有什么新变化"

#: ../../whatsnew/3.12.rst:0
msgid "Release"
msgstr "发布版本"

#: ../../whatsnew/3.12.rst:6
msgid "|release|"
msgstr "|release|"

#: ../../whatsnew/3.12.rst:0
msgid "Date"
msgstr "日期"

#: ../../whatsnew/3.12.rst:7
msgid "|today|"
msgstr "|today|"

#: ../../whatsnew/3.12.rst:49
msgid ""
"This article explains the new features in Python 3.12, compared to 3.11."
msgstr "本文介绍了 Python 3.12 相比 3.11 的新增特性。"

#: ../../whatsnew/3.12.rst:51
msgid "For full details, see the :ref:`changelog <changelog>`."
msgstr "更详细的信息可参阅 :ref:`更新日志 <changelog>`。"

#: ../../whatsnew/3.12.rst:55
msgid ""
"Prerelease users should be aware that this document is currently in draft "
"form. It will be updated substantially as Python 3.12 moves towards release,"
" so it's worth checking back even after reading earlier versions."
msgstr ""
"预发布版用户应当了解到此文档目前处于草稿状态。 它将随着 Python 3.12 的发布进行不断更新，因此即使已经阅读过较早的版本也仍然值得再次查看。"

#: ../../whatsnew/3.12.rst:61
msgid "Summary -- Release highlights"
msgstr "摘要 -- 发布重点"

#: ../../whatsnew/3.12.rst:69
msgid "New grammar features:"
msgstr "新的语法特性："

#: ../../whatsnew/3.12.rst:71
msgid ":ref:`whatsnew312-pep701`"
msgstr ":ref:`whatsnew312-pep701`"

#: ../../whatsnew/3.12.rst:73
msgid "Interpreter improvements:"
msgstr "解释器的改进："

#: ../../whatsnew/3.12.rst:75
msgid ":ref:`whatsnew312-pep684`"
msgstr ":ref:`whatsnew312-pep684`"

#: ../../whatsnew/3.12.rst:77
msgid ":ref:`whatsnew312-pep669`"
msgstr ":ref:`whatsnew312-pep669`"

#: ../../whatsnew/3.12.rst:79
msgid "New typing features:"
msgstr "新的类型标注特性："

#: ../../whatsnew/3.12.rst:81
msgid ":ref:`whatsnew312-pep688`"
msgstr ":ref:`whatsnew312-pep688`"

#: ../../whatsnew/3.12.rst:83
msgid ":ref:`whatsnew312-pep692`"
msgstr ":ref:`whatsnew312-pep692`"

#: ../../whatsnew/3.12.rst:85
msgid ":ref:`whatsnew312-pep695`"
msgstr ":ref:`whatsnew312-pep695`"

#: ../../whatsnew/3.12.rst:87
msgid ":ref:`whatsnew312-pep698`"
msgstr ":ref:`whatsnew312-pep698`"

#: ../../whatsnew/3.12.rst:89
msgid "Important deprecations, removals or restrictions:"
msgstr "重要的弃用、移除或限制："

#: ../../whatsnew/3.12.rst:91
msgid ":pep:`623`: Remove wstr from Unicode"
msgstr ":pep:`623`: 从 Unicode 中移除 wstr"

#: ../../whatsnew/3.12.rst:93
msgid ""
":pep:`632`: Remove the ``distutils`` package. See `the migration guide "
"<https://peps.python.org/pep-0632/#migration-advice>`_ for advice on its "
"replacement."
msgstr ""
":pep:`632`: 移除 ``distutils`` 包。 请参阅 `the migration guide "
"<https://peps.python.org/pep-0632/#migration-advice>`_ 了解其替代品的建议。"

#: ../../whatsnew/3.12.rst:98
msgid "Improved Error Messages"
msgstr "改进的错误消息"

#: ../../whatsnew/3.12.rst:100
msgid ""
"Modules from the standard library are now potentially suggested as part of "
"the error messages displayed by the interpreter when a :exc:`NameError` is "
"raised to the top level. Contributed by Pablo Galindo in :gh:`98254`."
msgstr ""
"当引发的 :exc:`NameError` 被传播至顶级时，解释器显示的错误消息可能将标准库中的模块作为建议的一部分。由 Pablo Galindo 在"
" :gh:`98254` 中贡献。"

#: ../../whatsnew/3.12.rst:109
msgid ""
"Improve the error suggestion for :exc:`NameError` exceptions for instances. "
"Now if a :exc:`NameError` is raised in a method and the instance has an "
"attribute that's exactly equal to the name in the exception, the suggestion "
"will include ``self.<NAME>`` instead of the closest match in the method "
"scope. Contributed by Pablo Galindo in :gh:`99139`."
msgstr ""
"改进实例的 :exc:`NameError` 异常的错误建议。现在，如果在方法中引发了 :exc:`NameError` "
"，并且实例具有与异常中的名称完全相等的属性，则建议将包括 ``self.<NAME>`` ，而不是方法范围中最接近的匹配项。由 Pablo "
"Galindo 在 :gh:`99139` 中贡献。"

#: ../../whatsnew/3.12.rst:130
msgid ""
"Improve the :exc:`SyntaxError` error message when the user types ``import x "
"from y`` instead of ``from y import x``. Contributed by Pablo Galindo in "
":gh:`98931`."
msgstr ""
"改进了使用 ``import x from y`` 而不是 ``from y import x`` 时产生的 :exc:`SyntaxError` "
"错误消息。由 Pablo Galindo 在 :gh:`98931` 中贡献。"

#: ../../whatsnew/3.12.rst:140
msgid ""
":exc:`ImportError` exceptions raised from failed ``from <module> import "
"<name>`` statements now include suggestions for the value of ``<name>`` "
"based on the available names in ``<module>``. Contributed by Pablo Galindo "
"in :gh:`91058`."
msgstr ""
"从失败的 ``from <module> import <name>`` 语句引发的 :exc:`ImportError` 异常现在包括基于 "
"``<module>`` 中可用名称的 ``<name>`` 值的建议。由 Pablo Galindo 在 :gh:`91058` 中贡献。"

#: ../../whatsnew/3.12.rst:151 ../../whatsnew/3.12.rst:1681
msgid "New Features"
msgstr "新的特性"

#: ../../whatsnew/3.12.rst:156
msgid "PEP 701: Syntactic formalization of f-strings"
msgstr "PEP 701：f-字符串的句法形式化"

#: ../../whatsnew/3.12.rst:158
msgid ""
":pep:`701` lifts some restrictions on the usage of f-strings. Expression "
"components inside f-strings can now be any valid Python expression including"
" backslashes, unicode escaped sequences, multi-line expressions, comments "
"and strings reusing the same quote as the containing f-string. Let's cover "
"these in detail:"
msgstr ""
":pep:`701` 取消了对f-"
"字符串使用的一些限制。f-字符串中的表达式组件现在可以是任何有效的Python表达式，包括反斜杠、unicode转义序列、多行表达式、注释和与包含的f-"
"字符串重复使用相同引号的字符串。让我们详细介绍一下："

#: ../../whatsnew/3.12.rst:163
msgid ""
"Quote reuse: in Python 3.11, reusing the same quotes as the containing "
"f-string raises a :exc:`SyntaxError`, forcing the user to either use other "
"available quotes (like using double quotes or triple quotes if the f-string "
"uses single quotes). In Python 3.12, you can now do things like this:"
msgstr ""
"引号重用：在 Python 3.11 及以前，重用与包含的f-字符串相同的引号会引发 :exc:`SyntaxError` "
"，迫使用户使用其他可用的引号（例如，如果f-字符串使用单引号，则使用双引号或三引号）。在 Python 3.12 中，你现在可以执行以下操作："

#: ../../whatsnew/3.12.rst:172
msgid ""
"Note that before this change there was no explicit limit in how f-strings "
"can be nested, but the fact that string quotes cannot be reused inside the "
"expression component of f-strings made it impossible to nest f-strings "
"arbitrarily. In fact, this is the most nested f-string that could be "
"written:"
msgstr ""
"请注意，在这一更改之前，对f-字符串的嵌套方式没有明确的限制，但字符串引号不能在f-字符串的表达式组件中重复使用，这使得不可能任意嵌套f-"
"字符串。事实上，这是可以编写的嵌套最多的f-字符串："

#: ../../whatsnew/3.12.rst:180
msgid ""
"As now f-strings can contain any valid Python expression inside expression "
"components, it is now possible to nest f-strings arbitrarily:"
msgstr "由于现在f-字符串可以在表达式组件中包含任何有效的Python表达式，因此现在可以任意嵌套f-字符串："

#: ../../whatsnew/3.12.rst:186
msgid ""
"Multi-line expressions and comments: In Python 3.11, f-strings expressions "
"must be defined in a single line even if outside f-strings expressions could"
" span multiple lines (like literal lists being defined over multiple lines),"
" making them harder to read. In Python 3.12 you can now define expressions "
"spanning multiple lines and include comments on them:"
msgstr ""
"多行表达式和注释：在Python 3.11中，f-字符串表达式必须在一行中定义，即使外部f-"
"字符串表达式可能跨越多行（就像在多行上定义的字面值列表一样），也会使它们更难阅读。在Python "
"3.12中，你现在可以定义跨越多行的表达式，并在其中包含注释："

#: ../../whatsnew/3.12.rst:199
msgid ""
"Backslashes and unicode characters: before Python 3.12 f-string expressions "
"couldn't contain any ``\\`` character. This also affected unicode escaped "
"sequences (such as ``\\N{snowman}``) as these contain the ``\\N`` part that "
"previously could not be part of expression components of f-strings. Now, you"
" can define expressions like this:"
msgstr ""
"反斜杠和unicode字符：在Python 3.12之前，f-字符串表达式不能包含任何 ``\\`` 字符。这也影响了 unicode 转义序列 (如 "
"``\\N{snowman}``)，因为这些序列包含 ``\\N`` 部分，而这些部分以前不能作为f-"
"字符串的表达式组件的一部分。现在，你可以定义如下表达式:"

#: ../../whatsnew/3.12.rst:212
msgid "See :pep:`701` for more details."
msgstr "更多细节请参见 :pep:`701`。"

#: ../../whatsnew/3.12.rst:214
msgid ""
"As a positive side-effect of how this feature has been implemented (by "
"parsing f-strings with the PEG parser (see :pep:`617`), now error messages "
"for f-strings are more precise and include the exact location of the error. "
"For example, in Python 3.11, the following f-string raises a "
":exc:`SyntaxError`:"
msgstr ""
"作为实现此功能的正面影响 (通过使用 PEG 解析器解析 f 字符串，参见 :pep:`617`)，现在 f "
"字符串的错误消息更加精确，包括错误的确切位置。 例如，在 Python 3.11 中，以下 f 字符串引发一个 :exc:`SyntaxError`:"

#: ../../whatsnew/3.12.rst:227
msgid ""
"but the error message doesn't include the exact location of the error within"
" the line and also has the expression artificially surrounded by "
"parentheses. In Python 3.12, as f-strings are parsed with the PEG parser, "
"error messages can be more precise and show the entire line:"
msgstr ""
"但是错误消息不包括错误在行中的确切位置，而且表达式被人为地用括号括起来。在Python 3.12中，由于f-"
"字符串是用PEG解析器解析的，因此错误消息可以更精确，并显示整行："

#: ../../whatsnew/3.12.rst:239
msgid ""
"(Contributed by Pablo Galindo, Batuhan Taskaya, Lysandros Nikolaou, Cristián"
" Maureira-Fredes and Marta Gómez in :gh:`102856`. PEP written by Pablo "
"Galindo, Batuhan Taskaya, Lysandros Nikolaou and Marta Gómez)."
msgstr ""
"（由 Pablo Galindo、Batuhan Taskaya、 Lysandros Nikolaou、Cristián Maureira-"
"Fredes 和 Marta Gómez 在 :gh:`102856` 中贡献。 PEP 由 Pablo Galindo、 Batuhan "
"Taskaya、 Lysandros Nikolaou 和 Marta Gómez 撰写）。"

#: ../../whatsnew/3.12.rst:246
msgid "PEP 709: Comprehension inlining"
msgstr "PEP 709：推导式内联"

#: ../../whatsnew/3.12.rst:248
msgid ""
"Dictionary, list, and set comprehensions are now inlined, rather than "
"creating a new single-use function object for each execution of the "
"comprehension. This speeds up execution of a comprehension by up to 2x."
msgstr "字典、列表和集合推导式现在是内联的，而不是为每次执行推导式创建一个新的一次性函数对象。这样可以将推导式的执行速度提高最多2倍。"

#: ../../whatsnew/3.12.rst:252
msgid ""
"Comprehension iteration variables remain isolated; they don't overwrite a "
"variable of the same name in the outer scope, nor are they visible after the"
" comprehension. This isolation is now maintained via stack/locals "
"manipulation, not via separate function scope."
msgstr ""
"推导式迭代变量保持隔离；它们不会覆盖外部作用域中的同名变量，在推导式后也不可见。这种隔离现在是通过堆栈/本地变量操作来维护的，而不是通过单独的函数作用域。"

#: ../../whatsnew/3.12.rst:257
msgid "Inlining does result in a few visible behavior changes:"
msgstr "内联确实会导致一些明显的行为变化："

#: ../../whatsnew/3.12.rst:259
msgid ""
"There is no longer a separate frame for the comprehension in tracebacks, and"
" tracing/profiling no longer shows the comprehension as a function call."
msgstr "回溯中的推导式不再有单独的帧，跟踪/评测也不再将推导式显示为函数调用。"

#: ../../whatsnew/3.12.rst:261
msgid ""
"Calling :func:`locals` inside a comprehension now includes variables from "
"outside the comprehension, and no longer includes the synthetic ``.0`` "
"variable for the comprehension \"argument\"."
msgstr "在推导式内部调用 :func:`locals` 现在包括该推导式外部外部的变量，而不再包括推导式“参数”导致的 ``.0`` 合成变量。"

#: ../../whatsnew/3.12.rst:264
msgid ""
"A comprehension iterating directly over ``locals()`` (e.g. ``[k for k in "
"locals()]``) may see \"RuntimeError: dictionary changed size during "
"iteration\" when run under tracing (e.g. code coverage measurement). This is"
" the same behavior already seen in e.g. ``for k in locals():``. To avoid the"
" error, first create a list of keys to iterate over: ``keys = "
"list(locals()); [k for k in keys]``."
msgstr ""
"一个直接迭代 ``locals()`` 的推导式 (例如 ``[k for k in locals()]``) 在启动追踪 (例如检测代码覆盖度) "
"的情况下运行时可能导致 \"RuntimeError: dictionary changed size during iteration\"。 "
"此行为与现有的 ``for k in locals():`` 等代码保持一致。 要避免此错误，可先创建一个由键组成的列表用于迭代: ``keys = "
"list(locals()); [k for k in keys]``。"

#: ../../whatsnew/3.12.rst:271
msgid "Contributed by Carl Meyer and Vladimir Matveev in :pep:`709`."
msgstr "由 Carl Meyer 和 Vladimir Matveev 在 :pep:`709` 中贡献。"

#: ../../whatsnew/3.12.rst:276
msgid "PEP 688: Making the buffer protocol accessible in Python"
msgstr "PEP 688: 使缓冲区协议在Python中可访问"

#: ../../whatsnew/3.12.rst:278
msgid ""
":pep:`688` introduces a way to use the :ref:`buffer protocol "
"<bufferobjects>` from Python code. Classes that implement the "
":meth:`~object.__buffer__` method are now usable as buffer types."
msgstr ""
":pep:`688` 引入了一种在 Python 代码中使用 :ref:`缓冲区协议 <bufferobjects>` 的方法。实现 "
":meth:`~object.__buffer__` 方法的类现在可以作为缓冲区类型使用。"

#: ../../whatsnew/3.12.rst:282
msgid ""
"The new :class:`collections.abc.Buffer` ABC provides a standard way to "
"represent buffer objects, for example in type annotations. The new "
":class:`inspect.BufferFlags` enum represents the flags that can be used to "
"customize buffer creation. (Contributed by Jelle Zijlstra in :gh:`102500`.)"
msgstr ""
"新的 :class:`collections.abc.Buffer` ABC（抽象基类）提供了一种表示缓冲区对象的标准方法，例如在类型注释中。 新的 "
":class:`inspect.BufferFlags` 枚举表示可用于自定义缓冲区创建的标志。 （由 Jelle Zijlstra 在 "
":gh:`102500` 中贡献。）"

#: ../../whatsnew/3.12.rst:291
msgid "PEP 684: A Per-Interpreter GIL"
msgstr "PEP 684: 解释器级 GIL"

#: ../../whatsnew/3.12.rst:293
msgid ""
"Sub-interpreters may now be created with a unique GIL per interpreter. This "
"allows Python programs to take full advantage of multiple CPU cores."
msgstr "现在可以创建具有单独解释器级 GIL 的子解释器。 这将允许 Python 程序就能充分利用多个 CPU 内核。"

#: ../../whatsnew/3.12.rst:297
msgid ""
"Use the new :c:func:`Py_NewInterpreterFromConfig` function to create an "
"interpreter with its own GIL::"
msgstr "使用新的 :c:func:`Py_NewInterpreterFromConfig` 函数来创建具有单独 GIL 的解释器::"

#: ../../whatsnew/3.12.rst:311
msgid ""
"For further examples how to use the C-API for sub-interpreters with a per-"
"interpreter GIL, see :source:`Modules/_xxsubinterpretersmodule.c`."
msgstr ""
"有关如何将 C-API 用于子解释器和解释器级 GIL 的更多示例，请参见 "
":source:`Modules/_xxsubinterpretersmodule.c`。"

#: ../../whatsnew/3.12.rst:314
msgid "A Python API is anticipated for 3.13.  (See :pep:`554`.)"
msgstr "预计 3.13 版将提供相应的 Python API。 （参见 :pep:`554`。）"

#: ../../whatsnew/3.12.rst:316
msgid "(Contributed by Eric Snow in :gh:`104210`, etc.)"
msgstr "（由 Eric Snow 在 :gh:`104210` 等中贡献。）"

#: ../../whatsnew/3.12.rst:321
msgid "PEP 669: Low impact monitoring for CPython"
msgstr "PEP 669：针对 CPython 的低影响监控"

#: ../../whatsnew/3.12.rst:323
msgid ""
"CPython 3.12 now supports the ability to monitor calls, returns, lines, "
"exceptions and other events using instrumentation. This means that you only "
"pay for what you use, providing support for near-zero overhead debuggers and"
" coverage tools."
msgstr ""
"CPython 3.12 现在支持使用工具来监控调用、返回、行、异常和其他事件等。 "
"这意味着你只为你所使用的东西耗费资源，从而为近乎零开销的调试器和覆盖检查工具提供了支持。"

#: ../../whatsnew/3.12.rst:328
msgid "See  :mod:`sys.monitoring` for details."
msgstr "请参阅  :mod:`sys.monitoring` 来了解详情。"

#: ../../whatsnew/3.12.rst:332
msgid "New Features Related to Type Hints"
msgstr "有关类型提示的新增特性"

#: ../../whatsnew/3.12.rst:334
msgid ""
"This section covers major changes affecting :pep:`484` type hints and the "
":mod:`typing` module."
msgstr "本节介绍了涉及 :pep:`484` 类型提示和 :mod:`typing` 模块的主要更改。"

#: ../../whatsnew/3.12.rst:340
msgid "PEP 692: Using ``TypedDict`` for more precise ``**kwargs`` typing"
msgstr "PEP 692: 使用 ``TypedDict`` 进行更精确的 ``**kwargs`` 类型标注"

#: ../../whatsnew/3.12.rst:342
msgid ""
"Typing ``**kwargs`` in a function signature as introduced by :pep:`484` "
"allowed for valid annotations only in cases where all of the ``**kwargs`` "
"were of the same type."
msgstr ""
"在函数签名中的 ``**kwargs`` 类型标注（由 :pep:`484` 引入）只允许在所有 ``**kwargs`` "
"都属于同一类型的情况下进行有效标注。"

#: ../../whatsnew/3.12.rst:346
msgid ""
"This PEP specifies a more precise way of typing ``**kwargs`` by relying on "
"typed dictionaries::"
msgstr "此 PEP 指定了一种更精确的 ``**kwargs`` 类型标注的方法，该方法依赖于类型化的词典 ::"

#: ../../whatsnew/3.12.rst:357
msgid "See :pep:`692` for more details."
msgstr "更多细节请参见 :pep:`692`。"

#: ../../whatsnew/3.12.rst:359
msgid "(Contributed by Franek Magiera in :gh:`103629`.)"
msgstr "（由 Franek Magiera 在 :gh:`103629` 中贡献。）"

#: ../../whatsnew/3.12.rst:364
msgid "PEP 698: Override Decorator for Static Typing"
msgstr "PEP 698：覆盖静态类型的装饰器"

#: ../../whatsnew/3.12.rst:366
msgid ""
"A new decorator :func:`typing.override` has been added to the :mod:`typing` "
"module. It indicates to type checkers that the method is intended to "
"override a method in a superclass. This allows type checkers to catch "
"mistakes where a method that is intended to override something in a base "
"class does not in fact do so."
msgstr ""
"一个新的装饰器 :func:`typing.override` 已添加到 :mod:`typing` 模块中。 "
"它向类型检查器指示该方法旨在重写超类中的方法。 这允许类型检查器在打算重写基类中的某个方法实际上没有重写的情况下捕获错误。"

#: ../../whatsnew/3.12.rst:372
msgid "Example::"
msgstr "示例："

#: ../../whatsnew/3.12.rst:390
msgid "(Contributed by Steven Troxler in :gh:`101561`.)"
msgstr "（由 Steven Troxler 在 :gh:`101561` 中贡献。）"

#: ../../whatsnew/3.12.rst:395
msgid "PEP 695: Type Parameter Syntax"
msgstr "PEP 695: 类型形参语法"

#: ../../whatsnew/3.12.rst:397
msgid ""
"Generic classes and functions under :pep:`484` were declared using a verbose"
" syntax that left the scope of type parameters unclear and required explicit"
" declarations of variance."
msgstr ":pep:`484` 下的泛型类和函数是使用详细语法声明的，这使得类型参数的范围不明确，并且需要显式声明方差。"

#: ../../whatsnew/3.12.rst:401
msgid ""
":pep:`695` introduces a new, more compact and explicit way to create "
":ref:`generic classes <generic-classes>` and :ref:`functions <generic-"
"functions>`::"
msgstr ""
":pep:`695` 引入了一种新的、更紧凑、更明确的方式来创建 :ref:`泛型类 <generic-classes>` 和 :ref:`函数 "
"<generic-functions>`::"

#: ../../whatsnew/3.12.rst:414
msgid ""
"In addition, the PEP introduces a new way to declare :ref:`type aliases "
"<type-aliases>` using the :keyword:`type` statement, which creates an "
"instance of :class:`~typing.TypeAliasType`::"
msgstr ""
"此外，该 PEP 引入了一种新的方法来使用 :keyword:`type` 语句声明 :ref:`类型别名 <type-aliases>`，该语句会创建"
" :class:`~typing.TypeAliasType` 的实例::"

#: ../../whatsnew/3.12.rst:420
msgid "Type aliases can also be :ref:`generic <generic-type-aliases>`::"
msgstr "类型别名也可以是  :ref:`generic <generic-type-aliases>`::"

#: ../../whatsnew/3.12.rst:424
msgid ""
"The new syntax allows declaring :class:`~typing.TypeVarTuple` and "
":class:`~typing.ParamSpec` parameters, as well as :class:`~typing.TypeVar` "
"parameters with bounds or constraints::"
msgstr ""
"新语法允许声明 :class:`~typing.TypeVarTuple` 和 :class:`~typing.ParamSpec` "
"形参，以及带边界或约束的 :class:`~typing.TypeVar` 形参::"

#: ../../whatsnew/3.12.rst:433
msgid ""
"The value of type aliases and the bound and constraints of type variables "
"created through this syntax are evaluated only on demand (see :ref:`lazy-"
"evaluation`). This means type aliases are able to refer to other types "
"defined later in the file."
msgstr ""
"类型别名的值以及通过此语法创建的类型变量的边界和约束仅根据需要进行计算 (参见 :ref:`lazy-evaluation`)。 "
"这意味着类型别名可以引用稍后在文件中定义的其它类型。"

#: ../../whatsnew/3.12.rst:438
msgid ""
"Type parameters declared through a type parameter list are visible within "
"the scope of the declaration and any nested scopes, but not in the outer "
"scope. For example, they can be used in the type annotations for the methods"
" of a generic class or in the class body. However, they cannot be used in "
"the module scope after the class is defined. See :ref:`type-params` for a "
"detailed description of the runtime semantics of type parameters."
msgstr ""
"通过类型参数列表声明的类型参数在声明的作用域和任何嵌套的作用域内都可见，但在外部作用域内不可见。 例如，它们可以用于泛型类的方法的类型注解或类体中。 "
"但是，在定义类之后，不能在模块范围中使用它们。 有关类型参数的运行时语义的详细描述，请参见 :ref:`type-params`。"

#: ../../whatsnew/3.12.rst:445
msgid ""
"In order to support these scoping semantics, a new kind of scope is "
"introduced, the :ref:`annotation scope <annotation-scopes>`. Annotation "
"scopes behave for the most part like function scopes, but interact "
"differently with enclosing class scopes. In Python 3.13, :term:`annotations "
"<annotation>` will also be evaluated in annotation scopes."
msgstr ""
"为了支持这些作用域定义，引入了一种新的作用域，即 :ref:`标注作用域 <annotation-scopes>`。 "
"标注作用域的行为在很大程度上类似于函数作用域，但与封闭类作用作用域的交互方式不同。 在 Python 3.13 中，:term:`标注 "
"<annotation>` 也将在标注作用域中进行求值。"

#: ../../whatsnew/3.12.rst:451
msgid "See :pep:`695` for more details."
msgstr "更多细节请参见 :pep:`695`。"

#: ../../whatsnew/3.12.rst:453
msgid ""
"(PEP written by Eric Traut. Implementation by Jelle Zijlstra, Eric Traut, "
"and others in :gh:`103764`.)"
msgstr ""
"（PEP由 Eric Traut 撰写。 由 Jelle Zijlstra、Eric Traut 和其他人在 :gh:`103764` 中实现。）"

#: ../../whatsnew/3.12.rst:457
msgid "Other Language Changes"
msgstr "其他语言特性修改"

#: ../../whatsnew/3.12.rst:459
msgid ""
"Add :ref:`perf_profiling` through the new environment variable "
":envvar:`PYTHONPERFSUPPORT`, the new command-line option :option:`-X perf "
"<-X>`, as well as the new :func:`sys.activate_stack_trampoline`, "
":func:`sys.deactivate_stack_trampoline`, and "
":func:`sys.is_stack_trampoline_active` APIs. (Design by Pablo Galindo. "
"Contributed by Pablo Galindo and Christian Heimes with contributions from "
"Gregory P. Smith [Google] and Mark Shannon in :gh:`96123`.)"
msgstr ""
"通过新的环境变量 :envvar:`PYTHONPERFSUPPORT`、新的命令行选项 :option:`-X perf <-X>` 以及新的 "
":func:`sys.activate_stack_trampoline`、:func:`sys.deactivate_stack_trampoline`"
" 和 :func:`sys.is_stack_trampoline_active` API 来添加 :ref:`perf_profiling`。 （由 "
"Pablo Galindo 设计。 由 Pablo Gallindo 和 Christian Heimes 并包含来自 Gregory P. Smith"
" [Google] 和 Mark Shannon 在 :gh:`96123` 中的贡献。）"

#: ../../whatsnew/3.12.rst:469
msgid ""
"The extraction methods in :mod:`tarfile`, and :func:`shutil.unpack_archive`,"
" have a new a *filter* argument that allows limiting tar features than may "
"be surprising or dangerous, such as creating files outside the destination "
"directory. See :ref:`tarfile-extraction-filter` for details. In Python 3.14,"
" the default will switch to ``'data'``. (Contributed by Petr Viktorin in "
":pep:`706`.)"
msgstr ""
":mod:`tarfile` 和 :func:`shutil.unpack_archive` 中的提取方法有一个新的 *filter* "
"参数，该参数允许限制可能令人惊讶或危险的 tar 功能，例如在目标目录之外创建文件。 有关详细信息，请参阅 :ref:`tarfile-"
"extraction-filter` 提取筛选器。 在 Python 3.14 中，默认值将切换为 ``'data'``。 （由 Petr "
"Viktorin 在 :pep:`706` 中贡献。）"

#: ../../whatsnew/3.12.rst:477
msgid ""
":class:`types.MappingProxyType` instances are now hashable if the underlying"
" mapping is hashable. (Contributed by Serhiy Storchaka in :gh:`87995`.)"
msgstr ""
"如果底层映射是可哈希的，那么 :class:`types.MappingProxyType` 实例现在是可哈希的。 （由 Serhiy "
"Storchaka 在 :gh:`87995` 中贡献。）"

#: ../../whatsnew/3.12.rst:481
msgid ""
":class:`memoryview` now supports the half-float type (the \"e\" format "
"code). (Contributed by Dong-hee Na and Antoine Pitrou in :gh:`90751`.)"
msgstr ""
":class:`memoryview` 现在支持半浮点类型（“e”格式代码）。 （由 Dong-hee Na 和 Antoine Pitrou 在 "
":gh:`90751` 中贡献。）"

#: ../../whatsnew/3.12.rst:484
msgid ""
"The parser now raises :exc:`SyntaxError` when parsing source code containing"
" null bytes. (Contributed by Pablo Galindo in :gh:`96670`.)"
msgstr ""
"解析器现在在解析包含空字节的源代码时引发 :exc:`SyntaxError`。 （由 Pablo Galindo 在 :gh:`96670` 中贡献 "
"。）"

#: ../../whatsnew/3.12.rst:487
msgid ""
":func:`ast.parse` now raises :exc:`SyntaxError` instead of :exc:`ValueError`"
" when parsing source code containing null bytes. (Contributed by Pablo "
"Galindo in :gh:`96670`.)"
msgstr ""
":func:`ast.parse` 现在会在解析包含空字节的源代码时引发 :exc:`SyntaxError` 而不是 "
":exc:`ValueError`。 （由 Pablo Galindo 在 :gh:`96670` 中贡献 。）"

#: ../../whatsnew/3.12.rst:491
msgid ""
"The Garbage Collector now runs only on the eval breaker mechanism of the "
"Python bytecode evaluation loop instead of object allocations. The GC can "
"also run when :c:func:`PyErr_CheckSignals` is called so C extensions that "
"need to run for a long time without executing any Python code also have a "
"chance to execute the GC periodically. (Contributed by Pablo Galindo in "
":gh:`97922`.)"
msgstr ""
"垃圾回收器现在只在 Python 字节码评估循环的 eval-breaker 机制上运行，而不是在对象分配上运行。 垃圾回收也可以在调用 "
":c:func:`PyErr_CheckSignals` 时运行，因此需要长时间运行而不执行任何 Python 代码的 C "
"扩展也有机会定期执行垃圾回收。 （由 Pablo Galindo 在 :gh:`97922` 中贡献。）"

#: ../../whatsnew/3.12.rst:498
msgid ""
"A backslash-character pair that is not a valid escape sequence now generates"
" a :exc:`SyntaxWarning`, instead of :exc:`DeprecationWarning`. For example, "
"``re.compile(\"\\d+\\.\\d+\")`` now emits a :exc:`SyntaxWarning` "
"(``\"\\d\"`` is an invalid escape sequence), use raw strings for regular "
"expression: ``re.compile(r\"\\d+\\.\\d+\")``. In a future Python version, "
":exc:`SyntaxError` will eventually be raised, instead of "
":exc:`SyntaxWarning`. (Contributed by Victor Stinner in :gh:`98401`.)"
msgstr ""
"不是有效转义序列的反斜杠+字符的组合现在会生成 :exc:`SyntaxWarning`，而不是  :exc:`DeprecationWarning`。"
" 例如，``re.compile(\"\\d+\\.\\d+\")`` 现在会发出 :exc:`SyntaxWarning` (``\"\\d\"`` "
"是一个无效的转义序列)，对正则表达式使用原始字符串: ``re.compile(r\"\\d+\\.\\d+\")``。 在未来的 Python "
"版本中，最终将引发 :exc:`SyntaxError`，而不是 :exc:`SyntaxWarning`。 （由 Victor Stinner 在 "
":gh:`98401` 中贡献。）"

#: ../../whatsnew/3.12.rst:507
msgid ""
"Octal escapes with value larger than ``0o377`` (ex: ``\"\\477\"``), "
"deprecated in Python 3.11, now produce a :exc:`SyntaxWarning`, instead of "
":exc:`DeprecationWarning`. In a future Python version they will be "
"eventually a :exc:`SyntaxError`. (Contributed by Victor Stinner in "
":gh:`98401`.)"
msgstr ""
"值大于 ``0o377`` (例如: ``\"\\477\"``) 的八进制转义序列，在 Python 3.11 中已弃用，现在会产生 "
":exc:`SyntaxWarning`，而不是 :exc:`DeprecationWarning`。 在未来的 Python 版本中，它们最终将是 "
":exc:`SyntaxError`。 （由 Victor Stinner 在 :gh:`98401` 中贡献。）"

#: ../../whatsnew/3.12.rst:513
msgid ""
"All builtin and extension callables expecting boolean parameters now accept "
"arguments of any type instead of just :class:`bool` and :class:`int`. "
"(Contributed by Serhiy Storchaka in :gh:`60203`.)"
msgstr ""
"所有期望布尔参数的内置和扩展可调用函数现在都接受任何类型的参数，而不仅仅是 :class:`bool` 和 :class:`int`。 （由 "
"Serhiy Storchaka 在 :gh:`60203` 中贡献。）"

#: ../../whatsnew/3.12.rst:517
msgid ""
"Variables used in the target part of comprehensions that are not stored to "
"can now be used in assignment expressions (``:=``). For example, in ``[(b :="
" 1) for a, b.prop in some_iter]``, the assignment to ``b`` is now allowed. "
"Note that assigning to variables stored to in the target part of "
"comprehensions (like ``a``) is still disallowed, as per :pep:`572`. "
"(Contributed by Nikita Sobolev in :gh:`100581`.)"
msgstr ""
"未存储在推导式目标部分中的变量现在可以在赋值表达式 (``:=``) 中使用。 例如，在 ``[(b := 1) for a, b.prop in "
"some_iter]`` 中，现在允许对 ``b`` 进行赋值。 请注意，根据 :pep:`572`，仍然不允许向存储在推导式目标部分中的变量 (如 "
"``a``) 赋值。 （由 Nikita Sobolev 在 :gh:`100581` 中贡献。）"

#: ../../whatsnew/3.12.rst:524
msgid ""
":class:`slice` objects are now hashable, allowing them to be used as dict "
"keys and set items. (Contributed by Will Bradshaw, Furkan Onder, and Raymond"
" Hettinger in :gh:`101264`.)"
msgstr ""
":class:`slice` 对象现在是可哈希的，允许它们用作字典的键和集合项。 （由 Will Bradshaw、Furkan Onder 和 "
"Raymond Hettinger 在 :gh:`101264` 中贡献。）"

#: ../../whatsnew/3.12.rst:527
msgid ""
":func:`sum` now uses Neumaier summation to improve accuracy when summing "
"floats or mixed ints and floats. (Contributed by Raymond Hettinger in "
":gh:`100425`.)"
msgstr ""
":func:`sum` 现在使用 Neumaier 求和来提高浮点求和或整数浮点混合求和的准确性。 （由 Raymond Hettinger 在 "
":gh:`100425` 中贡献。）"

#: ../../whatsnew/3.12.rst:531
msgid ""
"Exceptions raised in a typeobject's ``__set_name__`` method are no longer "
"wrapped by a :exc:`RuntimeError`. Context information is added to the "
"exception as a :pep:`678` note. (Contributed by Irit Katriel in "
":gh:`77757`.)"
msgstr ""
"类型对象的 ``__set_name__`` 方法引发的异常不再由 :exc:`RuntimeError` 封装。 上下文信息将作为 "
":pep:`678` 注释添加到异常中。 （由 Irit Katriel 在 :gh:`77757` 中贡献。）"

#: ../../whatsnew/3.12.rst:535
msgid ""
"When a ``try-except*`` construct handles the entire :exc:`ExceptionGroup` "
"and raises one other exception, that exception is no longer wrapped in an "
":exc:`ExceptionGroup`. Also changed in version 3.11.4. (Contributed by Irit "
"Katriel in :gh:`103590`.)"
msgstr ""
"当 ``try-except*`` 构造处理整个 :exc:`ExceptionGroup` 并引发另一个异常时，该异常不再封装在 "
":exc:`ExceptionGroup` 中。 在 3.11.4 版中也进行了更改。 （由 Irit Katriel 在 :gh:`103590` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:542
msgid "New Modules"
msgstr "新增模块"

#: ../../whatsnew/3.12.rst:544
msgid "None."
msgstr "无。"

#: ../../whatsnew/3.12.rst:548
msgid "Improved Modules"
msgstr "改进的模块"

#: ../../whatsnew/3.12.rst:551
msgid "array"
msgstr "array"

#: ../../whatsnew/3.12.rst:553
msgid ""
"The :class:`array.array` class now supports subscripting, making it a "
":term:`generic type`. (Contributed by Jelle Zijlstra in :gh:`98658`.)"
msgstr ""
":class:`array.array` 类现在支持下标，使其成为 :term:`generic type`。 （由 Jelle Zijlstra 在 "
":gh:`98658` 中贡献。）"

#: ../../whatsnew/3.12.rst:557
msgid "asyncio"
msgstr "asyncio"

#: ../../whatsnew/3.12.rst:559
msgid ""
"The performance of writing to sockets in :mod:`asyncio` has been "
"significantly improved. ``asyncio`` now avoids unnecessary copying when "
"writing to sockets and uses :meth:`~socket.socket.sendmsg` if the platform "
"supports it. (Contributed by Kumar Aditya in :gh:`91166`.)"
msgstr ""
"在 :mod:`asyncio` 中写入套接字的性能得到了显著提高。 ``asyncio`` "
"现在可以避免在写入套接字时进行不必要的复制，并在平台支持的情况下使用 :meth:`~socket.socket.sendmsg`。 （由 Kumar "
"Aditya 在 :gh:`91166` 中贡献。）"

#: ../../whatsnew/3.12.rst:564
msgid ""
"Added :func:`asyncio.eager_task_factory` and "
":func:`asyncio.create_eager_task_factory` functions to allow opting an event"
" loop in to eager task execution, making some use-cases 2x to 5x faster. "
"(Contributed by Jacob Bower & Itamar O in :gh:`102853`, :gh:`104140`, and "
":gh:`104138`)"
msgstr ""
"添加了 :func:`asyncio.eager_task_factory` 和 "
":func:`asyncio.create_eager_task_factory` 函数，允许在紧急任务执行中选择事件循环，使某些用例的速度提高了 2 "
"到 5 倍。 （由 Jacob Bower 和 Itamar O 在 :gh:`102853`、:gh:`104140` 和 :gh:`104138` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:569
msgid ""
"On Linux, :mod:`asyncio` uses :class:`~asyncio.PidfdChildWatcher` by default"
" if :func:`os.pidfd_open` is available and functional instead of "
":class:`~asyncio.ThreadedChildWatcher`. (Contributed by Kumar Aditya in "
":gh:`98024`.)"
msgstr ""
"在 Linux 上，如果 :func:`os.pidfd_open` 可用且能工作，:mod:`asyncio` 默认使用 "
":class:`~asyncio.PidfdChildWatcher` 而不是 "
":class:`~asyncio.ThreadedChildWatcher`。 （由 Kumar Aditya 在 :gh:`98024` 中贡献。）"

#: ../../whatsnew/3.12.rst:574
msgid ""
"The child watcher classes :class:`~asyncio.MultiLoopChildWatcher`, "
":class:`~asyncio.FastChildWatcher`, :class:`~asyncio.AbstractChildWatcher` "
"and :class:`~asyncio.SafeChildWatcher` are deprecated and will be removed in"
" Python 3.14. It is recommended to not manually configure a child watcher as"
" the event loop now uses the best available child watcher for each platform "
"(:class:`~asyncio.PidfdChildWatcher` if supported and "
":class:`~asyncio.ThreadedChildWatcher` otherwise). (Contributed by Kumar "
"Aditya in :gh:`94597`.)"
msgstr ""
"子观察程序类 "
":class:`~asyncio.MultiLoopChildWatcher`、:class:`~asyncio.FastChildWatcher`、:class:`~asyncio.AbstractChildWatcher`"
" 和 :class:`~asyncio.SafeChildWatcher` 已弃用，它们将在 Python 3.14 中移除。 "
"建议不要手动配置子观察程序，因为事件循环现在为每个平台使用最佳可用的子观察程序 (如果支持就用 "
":class:`~asyncio.PidfdChildWatcher`，不支持则用 "
":class:`~asyncio.ThreadedChildWatcher`)。 （由 Kumar Aditya 在 :gh:`94597` 中贡献。）"

#: ../../whatsnew/3.12.rst:583
msgid ""
":func:`asyncio.set_child_watcher`, :func:`asyncio.get_child_watcher`, "
":meth:`asyncio.AbstractEventLoopPolicy.set_child_watcher` and "
":meth:`asyncio.AbstractEventLoopPolicy.get_child_watcher` are deprecated and"
" will be removed in Python 3.14. (Contributed by Kumar Aditya in "
":gh:`94597`.)"
msgstr ""
":func:`asyncio.set_child_watcher`、:func:`asyncio.get_child_watcher`、:meth:`asyncio.AbstractEventLoopPolicy.set_child_watcher`"
" 和 :meth:`asyncio.AbstractEventLoopPolicy.get_child_watcher` 已弃用，并将在 Python "
"3.14 中移除。（由 Kumar Aditya 在 :gh:`94597` 中贡献。）"

#: ../../whatsnew/3.12.rst:589
msgid ""
"Add *loop_factory* parameter to :func:`asyncio.run` to allow specifying a "
"custom event loop factory. (Contributed by Kumar Aditya in :gh:`99388`.)"
msgstr ""
"为 :func:`asyncio.run` 添加了形参 *loop_factory*，以允许指定自定义事件循环工厂。 （由 Kumar Aditya 在"
" :gh:`99388` 中贡献。）"

#: ../../whatsnew/3.12.rst:593
msgid ""
"Add C implementation of :func:`asyncio.current_task` for 4x-6x speedup. "
"(Contributed by Itamar Ostricher and Pranav Thulasiram Bhat in "
":gh:`100344`.)"
msgstr ""
"添加了 :func:`asyncio.current_task` 的 C 实现，以实现 4 - 6 倍的加速。 （由 Itamar Ostricher "
"和 Pranav Thulasiram Bhat 在 :gh:`100344` 中贡献。）"

#: ../../whatsnew/3.12.rst:596
msgid ""
":func:`asyncio.iscoroutine` now returns ``False`` for generators as "
":mod:`asyncio` does not support legacy generator-based coroutines. "
"(Contributed by Kumar Aditya in :gh:`102748`.)"
msgstr ""
":func:`asyncio.iscoroutine` 现在为生成器返回 ``False``，因为 :mod:`asyncio` "
"不支持传统的基于生成器的协程。 （由 Kumar Aditya 在 :gh:`102748` 中贡献。）"

#: ../../whatsnew/3.12.rst:600
msgid ""
":func:`asyncio.wait` and :func:`asyncio.as_completed` now accepts generators"
" yielding tasks. (Contributed by Kumar Aditya in :gh:`78530`.)"
msgstr ""
":func:`asyncio.wait` 和 :func:`asyncio.as_completed` 现在接受生成器 yield 任务。 （由 "
"Kumar Aditya 在 :gh:`78530` 中贡献。）"

#: ../../whatsnew/3.12.rst:605
msgid "calendar"
msgstr "calendar"

#: ../../whatsnew/3.12.rst:607
msgid ""
"Add enums :data:`~calendar.Month` and :data:`~calendar.Day`. (Contributed by"
" Prince Roshan in :gh:`103636`.)"
msgstr ""
"添加 :data:`~calendar.Month` 和 :data:`~calendar.Day` 枚举。 （由 Prince Roshan 在 "
":gh:`103636` 中贡献。）"

#: ../../whatsnew/3.12.rst:611
msgid "csv"
msgstr "csv"

#: ../../whatsnew/3.12.rst:613
msgid ""
"Add :const:`~csv.QUOTE_NOTNULL` and :const:`~csv.QUOTE_STRINGS` flags to "
"provide finer grained control of ``None`` and empty strings by "
":class:`~csv.writer` objects."
msgstr ""
"增加了 :const:`~csv.QUOTE_NOTNULL` 和 :const:`~csv.QUOTE_STRINGS` 旗标以通过 "
":class:`~csv.writer` 对象提供对 ``None`` 和空字符串的更细粒度控制。"

#: ../../whatsnew/3.12.rst:618
msgid "dis"
msgstr "dis"

#: ../../whatsnew/3.12.rst:620
msgid ""
"Pseudo instruction opcodes (which are used by the compiler but do not appear"
" in executable bytecode) are now exposed in the :mod:`dis` module. "
":opcode:`HAVE_ARGUMENT` is still relevant to real opcodes, but it is not "
"useful for pseudo instructions. Use the new :data:`~dis.hasarg` collection "
"instead. (Contributed by Irit Katriel in :gh:`94216`.)"
msgstr ""
"伪指令操作码（编译器使用，但不出现在可执行字节码中）现在暴露在 :mod:`dis` 模块中。 :opcode:`HAVE_ARGUMENT` "
"仍然与实际操作码相关，但对伪指令没有用处。请改用新的 :data:`~dis.hasarg` 多项集。 （由 Irit Katriel 在 "
":gh:`94216` 中贡献。）"

#: ../../whatsnew/3.12.rst:629
msgid "fractions"
msgstr "fractions"

#: ../../whatsnew/3.12.rst:631
msgid ""
"Objects of type :class:`fractions.Fraction` now support float-style "
"formatting. (Contributed by Mark Dickinson in :gh:`100161`.)"
msgstr ""
"类型为 :class:`fractions.Fraction` 的对象现在支持浮点格式。 （由 Mark Dickinson 在 "
":gh:`100161` 中贡献。）"

#: ../../whatsnew/3.12.rst:635
msgid "importlib.resources"
msgstr "importlib.resources"

#: ../../whatsnew/3.12.rst:637
msgid ""
":func:`importlib.resources.as_file` now supports resource directories. "
"(Contributed by Jason R. Coombs in :gh:`97930`.)"
msgstr ""
":func:`importlib.resources.as_file` 现在将支持资源目录。 （由 Jason R. Coombs 在 "
":gh:`97930` 中贡献。）"

#: ../../whatsnew/3.12.rst:641
msgid "inspect"
msgstr "inspect"

#: ../../whatsnew/3.12.rst:643
msgid ""
"Add :func:`inspect.markcoroutinefunction` to mark sync functions that return"
" a :term:`coroutine` for use with :func:`inspect.iscoroutinefunction`. "
"(Contributed Carlton Gibson in :gh:`99247`.)"
msgstr ""
"添加 :func:`inspect.markcoroutinefunction` 来标记返回 :term:`coroutine`  的同步函数，以便与 "
":func:`inspect.iscoroutinefunction` 一起使用。 （由 Carlton Gibson 在 :gh:`99247` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:647
msgid ""
"Add :func:`inspect.getasyncgenstate` and :func:`inspect.getasyncgenlocals` "
"for determining the current state of asynchronous generators. (Contributed "
"by Thomas Krennwallner in :issue:`35759`.)"
msgstr ""
"添加 :func:`inspect.getasyncgenstate` 和 :func:`inspect.getasyncgenlocals` "
"来确定异步生成器的当前状态。 （由 Thomas Krennwallner 在 :issue:`35759` 中贡献。）"

#: ../../whatsnew/3.12.rst:651
msgid ""
"The performance of :func:`inspect.getattr_static` has been considerably "
"improved. Most calls to the function should be at least 2x faster than they "
"were in Python 3.11, and some may be 6x faster or more. (Contributed by Alex"
" Waygood in :gh:`103193`.)"
msgstr ""
":func:`inspect.getattr_static` 的性能得到了相当大的改进。 对函数的大多数调用应该比 Python 3.11 中至少快 2"
" 倍，有些可能快 6 倍甚至更多。 （由 Alex Waygood 在 :gh:`103193` 中贡献。）"

#: ../../whatsnew/3.12.rst:657
msgid "itertools"
msgstr "itertools"

#: ../../whatsnew/3.12.rst:659
msgid ""
"Added :class:`itertools.batched()` for collecting into even-sized tuples "
"where the last batch may be shorter than the rest. (Contributed by Raymond "
"Hettinger in :gh:`98363`.)"
msgstr ""
"增加了 :class:`itertools.batched()` 用来收集到相同大小的元组其中最后一个批次的长度可能会比其他批次的短。 （由 "
"Raymond Hettinger 在 :gh:`98363` 中贡献。）"

#: ../../whatsnew/3.12.rst:664
msgid "math"
msgstr "math"

#: ../../whatsnew/3.12.rst:666
msgid ""
"Added :func:`math.sumprod` for computing a sum of products. (Contributed by "
"Raymond Hettinger in :gh:`100485`.)"
msgstr ""
"添加了 :func:`math.sumprod` 用于计算乘积的和。 （由 Raymond Hettinger 在 :gh:`100485` 中贡献。）"

#: ../../whatsnew/3.12.rst:669
msgid ""
"Extended :func:`math.nextafter` to include a *steps* argument for moving up "
"or down multiple steps at a time. (By Matthias Goergens, Mark Dickinson, and"
" Raymond Hettinger in :gh:`94906`.)"
msgstr ""
"扩展了 :func:`math.nextafter` 以包含一个 *steps* 参数，用于一次上移或下移多个步骤。 （由 Matthias "
"Goergens、Mark Dickinson 和 Raymond Hettinger在 :gh:`94906` 中贡献。）"

#: ../../whatsnew/3.12.rst:674
msgid "os"
msgstr "os"

#: ../../whatsnew/3.12.rst:676
msgid ""
"Add :const:`os.PIDFD_NONBLOCK` to open a file descriptor for a process with "
":func:`os.pidfd_open` in non-blocking mode. (Contributed by Kumar Aditya in "
":gh:`93312`.)"
msgstr ""
"增加了 :const:`os.PIDFD_NONBLOCK` 以在非阻塞模式下打开具有 :func:`os.pidfd_open` 的进程的文件描述符。"
" （由 Kumar Aditya 在 :gh:`93312` 中贡献。）"

#: ../../whatsnew/3.12.rst:680
msgid ""
":class:`os.DirEntry` now includes an :meth:`os.DirEntry.is_junction` method "
"to check if the entry is a junction. (Contributed by Charles Machalow in "
":gh:`99547`.)"
msgstr ""
":class:`os.DirEntry` 现在包括一个 :meth:`os.DirEntry.is_junction` 方法来检查该条目是否为目录联接。"
" （由 Charles Machalow 在 :gh:`99547` 中贡献。）"

#: ../../whatsnew/3.12.rst:684
msgid ""
"Add :func:`os.listdrives`, :func:`os.listvolumes` and :func:`os.listmounts` "
"functions on Windows for enumerating drives, volumes and mount points. "
"(Contributed by Steve Dower in :gh:`102519`.)"
msgstr ""
"在 Windows 版中添加 :func:`os.listdrives`、:func:`os.listvolumes` 和 "
":func:`os.listmounts` 函数，用于枚举驱动器、卷和挂载点。 （由 Steve Dower 在 :gh:`102519` 中贡献。）"

#: ../../whatsnew/3.12.rst:688
msgid ""
":func:`os.stat` and :func:`os.lstat` are now more accurate on Windows. The "
"``st_birthtime`` field will now be filled with the creation time of the "
"file, and ``st_ctime`` is deprecated but still contains the creation time "
"(but in the future will return the last metadata change, for consistency "
"with other platforms). ``st_dev`` may be up to 64 bits and ``st_ino`` up to "
"128 bits depending on your file system, and ``st_rdev`` is always set to "
"zero rather than incorrect values. Both functions may be significantly "
"faster on newer releases of Windows. (Contributed by Steve Dower in "
":gh:`99726`.)"
msgstr ""
":func:`os.stat` 和 :func:`os.lstat` 现在在 Windows 系统上更准确了。 ``st_birthtime`` "
"字段现在将使用文件的创建时间，``st_ctime`` 已弃用，但仍包含创建时间（但为了与其他平台保持一致，将来将返回最后一次元数据更改时间）。 "
"``st_dev`` 可以高达 64 位，``st_ino`` 可以高达 128 位，具体取决于你的文件系统，并且 ``st_rdev`` "
"始终设置为零，而非不正确的值。 这两个函数在较新版本的 Windows 上将会明显更快。  （由 Steve Dower 在 :gh:`99726` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:699
msgid "os.path"
msgstr "os.path"

#: ../../whatsnew/3.12.rst:701
msgid ""
"Add :func:`os.path.isjunction` to check if a given path is a junction. "
"(Contributed by Charles Machalow in :gh:`99547`.)"
msgstr ""
"添加 :func:`os.path.isjunction` 以检查给定路径是否为目录联接。 （由 Charles Machalow 在 "
":gh:`99547` 中贡献。）"

#: ../../whatsnew/3.12.rst:704
msgid ""
"Add :func:`os.path.splitroot` to split a path into a triad ``(drive, root, "
"tail)``. (Contributed by Barney Gale in :gh:`101000`.)"
msgstr ""
"添加 :func:`os.path.splitroot` 以将路径拆分为三元组 ``(drive, root, tail)``。（由 Barney "
"Gale 在 :gh:`101000` 中贡献。）"

#: ../../whatsnew/3.12.rst:708
msgid "pathlib"
msgstr "pathlib"

#: ../../whatsnew/3.12.rst:710
msgid ""
"Add support for subclassing :class:`pathlib.PurePath` and "
":class:`~pathlib.Path`, plus their Posix- and Windows-specific variants. "
"Subclasses may override the :meth:`~pathlib.PurePath.with_segments` method "
"to pass information between path instances."
msgstr ""
"增加对 :class:`pathlib.PurePath` 和 :class:`~pathlib.Path` 的子类化支持，以及它们的 Posix 和 "
"Windows 特定变体。 子类可以重写 :meth:`~pathlib.PurePath.with_segments` 方法来在路径实例之间传递信息。"

#: ../../whatsnew/3.12.rst:715
msgid ""
"Add :meth:`~pathlib.Path.walk` for walking the directory trees and "
"generating all file or directory names within them, similar to "
":func:`os.walk`. (Contributed by Stanislav Zmiev in :gh:`90385`.)"
msgstr ""
"添加 :meth:`~pathlib.Path.walk`，用于遍历目录树并生成其中的所有文件或目录名，类似于 :func:`os.walk`。 （由 "
"Stanislav Zmiev 在 :gh:`90385` 中贡献。）"

#: ../../whatsnew/3.12.rst:719
msgid ""
"Add *walk_up* optional parameter to :meth:`pathlib.PurePath.relative_to` to "
"allow the insertion of ``..`` entries in the result; this behavior is more "
"consistent with :func:`os.path.relpath`. (Contributed by Domenico Ragusa in "
":issue:`40358`.)"
msgstr ""
"添加可选形参 *walk_up* 到 :meth:`pathlib.PurePath.relative_to`，以允许在结果中插入 ``..`` "
"条目；此行为更符合 :func:`os.path.relpath`。 （由 Domenico Ragusa 在 :issue:`40358` 中贡献。）"

#: ../../whatsnew/3.12.rst:724
msgid ""
"Add :meth:`pathlib.Path.is_junction` as a proxy to "
":func:`os.path.isjunction`. (Contributed by Charles Machalow in "
":gh:`99547`.)"
msgstr ""
"添加 :meth:`pathlib.Path.is_junction` 作为 :func:`os.path.isjunction` 的代理。 （由 "
"Charles Machalow 在 :gh:`99547` 中贡献。）"

#: ../../whatsnew/3.12.rst:727
msgid ""
"Add *case_sensitive* optional parameter to :meth:`pathlib.Path.glob`, "
":meth:`pathlib.Path.rglob` and :meth:`pathlib.PurePath.match` for matching "
"the path's case sensitivity, allowing for more precise control over the "
"matching process."
msgstr ""
"为 :meth:`pathlib.Path.glob`、:meth:`pathlib.Path.rglob` 和 "
":meth:`pathlib.PurePath.match` 添加可选形参 "
"*case_sensitive*，以匹配路径的大小写敏感性，从而对匹配过程进行更精确的控制。"

#: ../../whatsnew/3.12.rst:732
msgid "pdb"
msgstr "pdb"

#: ../../whatsnew/3.12.rst:734
msgid ""
"Add convenience variables to hold values temporarily for debug session and "
"provide quick access to values like the current frame or the return value. "
"(Contributed by Tian Gao in :gh:`103693`.)"
msgstr "添加便利变量以临时保存调试会话的值，并提供对当前帧或返回值等值的快速访问。 （由高天在 :gh:`103693` 中贡献。）"

#: ../../whatsnew/3.12.rst:740
msgid "random"
msgstr "random"

#: ../../whatsnew/3.12.rst:742
msgid ""
"Added :func:`random.binomialvariate`. (Contributed by Raymond Hettinger in "
":gh:`81620`.)"
msgstr ""
"添加了 :func:`random.binomialvariate`。 （由 Raymond Hettinger 在 :gh:`81620` 中贡献。）"

#: ../../whatsnew/3.12.rst:745
msgid ""
"Added a default of ``lamb=1.0`` to :func:`random.expovariate`. (Contributed "
"by Raymond Hettinger in :gh:`100234`.)"
msgstr ""
"在 :func:`random.expovariate` 中添加了一个默认值 ``lamb=1.0``。 （由 Raymond Hettinger 在 "
":gh:`100234` 中贡献。）"

#: ../../whatsnew/3.12.rst:749
msgid "shutil"
msgstr "shutil"

#: ../../whatsnew/3.12.rst:751
msgid ""
":func:`shutil.make_archive` now passes the *root_dir* argument to custom "
"archivers which support it. In this case it no longer temporarily changes "
"the current working directory of the process to *root_dir* to perform "
"archiving. (Contributed by Serhiy Storchaka in :gh:`74696`.)"
msgstr ""
":func:`shutil.make_archive` 现在将 *rootdir* 参数传递给支持它的自定义存档程序。 "
"在这种情况下，它不再临时将进程的当前工作目录更改为 *rootdir* 来执行存档。 （由 Serhiy Storchaka 在 :gh:`74696`"
" 中贡献。）"

#: ../../whatsnew/3.12.rst:757
msgid ""
":func:`shutil.rmtree` now accepts a new argument *onexc* which is an error "
"handler like *onerror* but which expects an exception instance rather than a"
" *(typ, val, tb)* triplet. *onerror* is deprecated and will be removed in "
"Python 3.14. (Contributed by Irit Katriel in :gh:`102828`.)"
msgstr ""
":func:`shutil.rmtree` 现在接受一个新的参数 *onexc* ，它是一个类似 *onerror* "
"的错误处理器，但它需要一个异常实例，而不是一个 *(typ, val, tb)*  三元组。 *onerror* 已弃用，并将在 Python 3.14"
" 中移除。 （由 Irit Katriel 在 :gh:`102828` 中贡献。）"

#: ../../whatsnew/3.12.rst:763
msgid ""
":func:`shutil.which` now consults the *PATHEXT* environment variable to find"
" matches within *PATH* on Windows even when the given *cmd* includes a "
"directory component. (Contributed by Charles Machalow in :gh:`103179`.)"
msgstr ""
":func:`shutil.which` 现在即使给定的 *cmd* 包含目录组件，在 Windows 系统上也会参考 *PATHEXT* 环境变量在 "
"*PATH* 中查找匹配项。 （由 Charles Machalow 在 :gh:`103179` 中贡献。）"

#: ../../whatsnew/3.12.rst:768
msgid ""
":func:`shutil.which` will call ``NeedCurrentDirectoryForExePathW`` when "
"querying for executables on Windows to determine if the current working "
"directory should be prepended to the search path. (Contributed by Charles "
"Machalow in :gh:`103179`.)"
msgstr ""
":func:`shutil.which` 将在 Windows 上查询可执行文件时调用 "
"``NeedCurrentDirectoryForExePathW``，以确定是否应将当前工作目录预先设置为搜索路径。 （由 Charles "
"Machalow 在 :gh:`103179` 中贡献。）"

#: ../../whatsnew/3.12.rst:773
msgid ""
":func:`shutil.which` will return a path matching the *cmd* with a component "
"from ``PATHEXT`` prior to a direct match elsewhere in the search path on "
"Windows. (Contributed by Charles Machalow in :gh:`103179`.)"
msgstr ""
"在 Windows 上 :func:`shutil.which` 将在搜索路径的其他地方直接匹配之前返回 *cmd* 与来自 ``PATHEXT`` "
"的组件相匹配的路径。 （由 Charles Machalow 在 :gh:`103179` 中贡献。）"

#: ../../whatsnew/3.12.rst:779
msgid "sqlite3"
msgstr "sqlite3"

#: ../../whatsnew/3.12.rst:781
msgid ""
"Add a :ref:`command-line interface <sqlite3-cli>`. (Contributed by Erlend E."
" Aasland in :gh:`77617`.)"
msgstr ""
"增加了一个 :ref:`命令行接口 <sqlite3-cli>`。 （由 Erlend E. Aasland 在 :gh:`77617` 中贡献。）"

#: ../../whatsnew/3.12.rst:784
msgid ""
"Add the :attr:`~sqlite3.Connection.autocommit` attribute to "
":class:`~sqlite3.Connection` and the *autocommit* parameter to "
":func:`~sqlite3.connect` to control :pep:`249`-compliant :ref:`transaction "
"handling <sqlite3-transaction-control-autocommit>`. (Contributed by Erlend "
"E. Aasland in :gh:`83638`.)"
msgstr ""
"向 :class:`~sqlite3.Connection` 添加 :attr:`~sqlite3.Connection.autocommit` "
"属性并向 :func:`~sqlite3.connect` 添加 *autocommit* 形参用于控制兼容 :pep:`249` 的 "
":ref:`事务处理 <sqlite3-transaction-control-autocommit>`。 （由 Erlend E. Aasland 在"
" :gh:`83638` 中贡献。）"

#: ../../whatsnew/3.12.rst:791
msgid ""
"Add *entrypoint* keyword-only parameter to "
":meth:`~sqlite3.Connection.load_extension`, for overriding the SQLite "
"extension entry point. (Contributed by Erlend E. Aasland in :gh:`103015`.)"
msgstr ""
"向 :meth:`~sqlite3.Connection.load_extension` 添加了 *entrypoint* 仅限关键字形参，用于覆盖 "
"SQLite 扩展入口点。 （由 Erlend E. Aasland 在 :gh:`103015` 中贡献。）"

#: ../../whatsnew/3.12.rst:796
msgid ""
"Add :meth:`~sqlite3.Connection.getconfig` and "
":meth:`~sqlite3.Connection.setconfig` to :class:`~sqlite3.Connection` to "
"make configuration changes to a database connection. (Contributed by Erlend "
"E. Aasland in :gh:`103489`.)"
msgstr ""
"向 :class:`~sqlite3.Connection` 添加了 :meth:`~sqlite3.Connection.getconfig` 和 "
":meth:`~sqlite3.Connection.setconfig` 用于对数据库连接的配置修改。 （由 Erlend E. Aasland 在 "
":gh:`103489` 中贡献。）"

#: ../../whatsnew/3.12.rst:802
msgid "statistics"
msgstr "statistics"

#: ../../whatsnew/3.12.rst:804
msgid ""
"Extended :func:`statistics.correlation` to include as a ``ranked`` method "
"for computing the Spearman correlation of ranked data. (Contributed by "
"Raymond Hettinger in :gh:`95861`.)"
msgstr ""
"扩展了 :func:`statistics.correlation` 以 ``ranked`` 方法的形式来包括对分级数据的斯皮尔曼相关性计算。 （由 "
"Raymond Hettinger 在 :gh:`95861` 中贡献。）"

#: ../../whatsnew/3.12.rst:809
msgid "sys"
msgstr "sys"

#: ../../whatsnew/3.12.rst:811
msgid ""
"Add :func:`sys.activate_stack_trampoline` and "
":func:`sys.deactivate_stack_trampoline` for activating and deactivating "
"stack profiler trampolines, and :func:`sys.is_stack_trampoline_active` for "
"querying if stack profiler trampolines are active. (Contributed by Pablo "
"Galindo and Christian Heimes with contributions from Gregory P. Smith "
"[Google] and Mark Shannon in :gh:`96123`.)"
msgstr ""
"增加了 :func:`sys.activate_stack_trampoline` 和 "
":func:`sys.deactivate_stack_trampoline` 用于激活和停用栈性能分析器 trampoline，以及 "
":func:`sys.is_stack_trampoline_active` 用于查询栈性能分析器 trampoline 是否激活。 （基于 "
"Gregory P. Smith [Google] 和 Mark Shannon 的贡献由 Pablo Galindo 和 Christian "
"Heimes 在 :gh:`96123` 中贡献。）"

#: ../../whatsnew/3.12.rst:820
msgid ""
"Add :data:`sys.last_exc` which holds the last unhandled exception that was "
"raised (for post-mortem debugging use cases). Deprecate the three fields "
"that have the same information in its legacy form: :data:`sys.last_type`, "
":data:`sys.last_value` and :data:`sys.last_traceback`. (Contributed by Irit "
"Katriel in :gh:`102778`.)"
msgstr ""
"增加了 :data:`sys.last_exc` 用于保存最新引发的未处理异常（针对事后调试的应用场景）。 弃用了以三个字段来保存相同信息的旧形式: "
":data:`sys.last_type`, :data:`sys.last_value` 和 :data:`sys.last_traceback`。 "
"（由 Irit Katriel 在 :gh:`102778` 中贡献。）"

#: ../../whatsnew/3.12.rst:826 ../../whatsnew/3.12.rst:1589
msgid ""
":func:`sys._current_exceptions` now returns a mapping from thread-id to an "
"exception instance, rather than to a ``(typ, exc, tb)`` tuple. (Contributed "
"by Irit Katriel in :gh:`103176`.)"
msgstr ""
"现在 :func:`sys._current_exceptions` 将返回从线程 ID 到异常实例的映射，而不是到 ``(typ, exc, "
"tb)`` 元组的映射。 （由 Irit Katriel 在 :gh:`103176` 中贡献。）"

#: ../../whatsnew/3.12.rst:830
msgid ""
":func:`sys.setrecursionlimit` and :func:`sys.getrecursionlimit`. The "
"recursion limit now applies only to Python code. Builtin functions do not "
"use the recursion limit, but are protected by a different mechanism that "
"prevents recursion from causing a virtual machine crash."
msgstr ""
":func:`sys.setrecursionlimit` 和 :func:`sys.getrecursionlimit`。 递归限制现在只应用于 "
"Python 代码。 内置函数不使用该递归限制，但受到另一种可防止递归导致虚拟机崩溃的机制保护。"

#: ../../whatsnew/3.12.rst:836
msgid "tempfile"
msgstr "tempfile"

#: ../../whatsnew/3.12.rst:838
msgid ""
"The :class:`tempfile.NamedTemporaryFile` function has a new optional "
"parameter *delete_on_close* (Contributed by Evgeny Zorin in :gh:`58451`.)"
msgstr ""
":class:`tempfile.NamedTemporaryFile` 函数增加了一个新的可选形参 *delete_on_close*。 （由 "
"Evgeny Zorin 在 :gh:`58451` 中贡献。）"

#: ../../whatsnew/3.12.rst:840
msgid ""
":func:`tempfile.mkdtemp` now always returns an absolute path, even if the "
"argument provided to the *dir* parameter is a relative path."
msgstr ":func:`tempfile.mkdtemp` 现在将总是返回一个绝对路径，即使提供给 *dir* 形参的参数是一个相对路径。"

#: ../../whatsnew/3.12.rst:846
msgid "threading"
msgstr "threading"

#: ../../whatsnew/3.12.rst:848
msgid ""
"Add :func:`threading.settrace_all_threads` and "
":func:`threading.setprofile_all_threads` that allow to set tracing and "
"profiling functions in all running threads in addition to the calling one. "
"(Contributed by Pablo Galindo in :gh:`93503`.)"
msgstr ""
"增加了 :func:`threading.settrace_all_threads` 和 "
":func:`threading.setprofile_all_threads` "
"以允许在所运行的全部线程中设置追踪和性能分析函数而不是只在调用方线程中。 （由 Pablo Galindo 在 :gh:`93503` 中贡献。）"

#: ../../whatsnew/3.12.rst:854
msgid "tkinter"
msgstr "tkinter"

#: ../../whatsnew/3.12.rst:856
msgid ""
"``tkinter.Canvas.coords()`` now flattens its arguments. It now accepts not "
"only coordinates as separate arguments (``x1, y1, x2, y2, ...``) and a "
"sequence of coordinates (``[x1, y1, x2, y2, ...]``), but also coordinates "
"grouped in pairs (``(x1, y1), (x2, y2), ...`` and ``[(x1, y1), (x2, y2), "
"...]``), like ``create_*()`` methods. (Contributed by Serhiy Storchaka in "
":gh:`94473`.)"
msgstr ""
"现在 ``tkinter.Canvas.coords()`` 会展平其参数。 它现在不仅接受单独参数形式的坐标 (``x1, y1, x2, y2, "
"...``) 以及由坐标组成的序列 (``[x1, y1, x2, y2, ...]``)，也接受成对分组 (``(x1, y1), (x2, y2),"
" ...`` 和 ``[(x1, y1), (x2, y2), ...]``) 形式的坐标，就像 ``create_*()`` 方法一样。 （由 "
"Serhiy Storchaka 在 :gh:`94473` 中贡献。）"

#: ../../whatsnew/3.12.rst:865
msgid "tokenize"
msgstr "tokenize"

#: ../../whatsnew/3.12.rst:867
msgid ""
"The :mod:`tokenize` module includes the changes introduced in :pep:`701`. ( "
"Contributed by Marta Gómez Macías and Pablo Galindo in :gh:`102856`.) See "
":ref:`whatsnew312-porting-to-python312` for more information on the changes "
"to the :mod:`tokenize` module."
msgstr ""
":mod:`tokenize` 模块包括了 :pep:`701` 所引入的更改。 （由 Marta Gómez Macías 和 Pablo "
"Galindo 在 :gh:`102856` 中贡献。） 请参阅 :ref:`whatsnew312-porting-to-python312` "
"了解有关 :mod:`tokenize` 模块的更改详情。"

#: ../../whatsnew/3.12.rst:873
msgid "types"
msgstr "types"

#: ../../whatsnew/3.12.rst:875
msgid ""
"Add :func:`types.get_original_bases` to allow for further introspection of "
":ref:`user-defined-generics` when subclassed. (Contributed by James Hilton-"
"Balfe and Alex Waygood in :gh:`101827`.)"
msgstr ""
"增加了 :func:`types.get_original_bases` 以允许在子类化时继续对 :ref:`user-defined-"
"generics` 进行内省。 （由 James Hilton-Balfe 和 Alex Waygood 在 :gh:`101827` 中贡献。）"

#: ../../whatsnew/3.12.rst:880
msgid "typing"
msgstr "typing"

#: ../../whatsnew/3.12.rst:882
msgid ""
":func:`isinstance` checks against :func:`runtime-checkable protocols "
"<typing.runtime_checkable>` now use :func:`inspect.getattr_static` rather "
"than :func:`hasattr` to lookup whether attributes exist. This means that "
"descriptors and :meth:`~object.__getattr__` methods are no longer "
"unexpectedly evaluated during ``isinstance()`` checks against runtime-"
"checkable protocols. However, it may also mean that some objects which used "
"to be considered instances of a runtime-checkable protocol may no longer be "
"considered instances of that protocol on Python 3.12+, and vice versa. Most "
"users are unlikely to be affected by this change. (Contributed by Alex "
"Waygood in :gh:`102433`.)"
msgstr ""
"针对 :func:`运行时可检测协议 <typing.runtime_checkable>` 的 :func:`isinstance` 检测现在会使用 "
":func:`inspect.getattr_static` 而不是 :func:`hasattr` 来查找属性是否存在。 这意味着描述器和 "
":meth:`~object.__getattr__` 方法在针对运行时可检测协议的 ``isinstance()`` 检测期间不会被意外地求值。 "
"但是，这也意味着某些原来被视为运行时可检测协议的实例的对象在 Python 3.12+ 上将不再被视为运行时可检测协议的实例，反之亦然。 "
"大部分用户都不太可能受到这一改变的影响。 （由 Alex Waygood 在 :gh:`102433` 中贡献。）"

#: ../../whatsnew/3.12.rst:893
msgid ""
"The members of a runtime-checkable protocol are now considered \"frozen\" at"
" runtime as soon as the class has been created. Monkey-patching attributes "
"onto a runtime-checkable protocol will still work, but will have no impact "
"on :func:`isinstance` checks comparing objects to the protocol. For "
"example::"
msgstr ""
"现在运行时可检测协议的成员在运行时一旦创建了相应的类就将被视为“已冻结”。 "
"作用于运行时可检测协议的猴子补丁属性将仍然可用，但不会再影响将对象与协议进行比较的 :func:`isinstance` 检测中。 例如::"

#: ../../whatsnew/3.12.rst:915
msgid ""
"This change was made in order to speed up ``isinstance()`` checks against "
"runtime-checkable protocols."
msgstr "应用这项改变是为了提高针对运行时可检测协议的 ``isinstance()`` 检测速度。"

#: ../../whatsnew/3.12.rst:918
msgid ""
"The performance profile of :func:`isinstance` checks against :func:`runtime-"
"checkable protocols <typing.runtime_checkable>` has changed significantly. "
"Most ``isinstance()`` checks against protocols with only a few members "
"should be at least 2x faster than in 3.11, and some may be 20x faster or "
"more. However, ``isinstance()`` checks against protocols with fourteen or "
"more members may be slower than in Python 3.11. (Contributed by Alex Waygood"
" in :gh:`74690` and :gh:`103193`.)"
msgstr ""
"针对 :func:`运行时可检测协议 <typing.runtime_checkable>` 的 :func:`isinstance` "
"检测的性能表现有显著的改进。 对于具有少量成员的协议的 ``isinstance()`` 检测相比 3.11 应当至少有 2x 的提速，有些可能会有 "
"20x 或更多的提速。 但是，对于具有十四个或更多成员的协议的 ``isinstance()`` 检测可能会慢于 Python 3.11。 （由 "
"Alex Waygood 在 :gh:`74690` 和 :gh:`103193` 中贡献。）"

#: ../../whatsnew/3.12.rst:926
msgid ""
"All :data:`typing.TypedDict` and :data:`typing.NamedTuple` classes now have "
"the ``__orig_bases__`` attribute. (Contributed by Adrian Garcia Badaracco in"
" :gh:`103699`.)"
msgstr ""
"现在所有 :data:`typing.TypedDict` 和 :data:`typing.NamedTuple` 类都具有 "
"``__orig_bases__`` 属性。 （由 Adrian Garcia Badaracco 在 :gh:`103699` 中贡献。）"

#: ../../whatsnew/3.12.rst:930
msgid ""
"Add ``frozen_default`` parameter to :func:`typing.dataclass_transform`. "
"(Contributed by Erik De Bonte in :gh:`99957`.)"
msgstr ""
"向 :func:`typing.dataclass_transform` 添加了 ``frozen_default`` 形参。 （由 Erik De "
"Bonte 在 :gh:`99957` 中贡献。）"

#: ../../whatsnew/3.12.rst:934
msgid "unicodedata"
msgstr "unicodedata"

#: ../../whatsnew/3.12.rst:936
msgid ""
"The Unicode database has been updated to version 15.0.0. (Contributed by "
"Benjamin Peterson in :gh:`96734`)."
msgstr "Unicode 数据库已更新到 15.0.0 版。 （由 Benjamin Peterson 在 :gh:`96734` 中贡献。）"

#: ../../whatsnew/3.12.rst:940
msgid "unittest"
msgstr "unittest"

#: ../../whatsnew/3.12.rst:942
msgid ""
"Added ``--durations`` command line option, showing the N slowest test "
"cases::"
msgstr "增加了 ``--durations`` 命令行选项，显示 N 个最慢的测试用例::"

#: ../../whatsnew/3.12.rst:958
msgid "(Contributed by Giampaolo Rodola in :issue:`4080`)"
msgstr "（由 Giampaolo Rodola 在 :issue:`4080` 中贡献。）"

#: ../../whatsnew/3.12.rst:961
msgid "uuid"
msgstr "uuid"

#: ../../whatsnew/3.12.rst:963
msgid ""
"Add a :ref:`command-line interface <uuid-cli>`. (Contributed by Adam Chhina "
"in :gh:`88597`.)"
msgstr "增加了一个 :ref:`命令行接口 <uuid-cli>`。 （由 Adam Chhina 在 :gh:`88597` 中贡献。）"

#: ../../whatsnew/3.12.rst:968
msgid "Optimizations"
msgstr "性能优化"

#: ../../whatsnew/3.12.rst:970
msgid ""
"Removed ``wstr`` and ``wstr_length`` members from Unicode objects. It "
"reduces object size by 8 or 16 bytes on 64bit platform. (:pep:`623`) "
"(Contributed by Inada Naoki in :gh:`92536`.)"
msgstr ""
"从 Unicode 对象中移除了 ``wstr`` 和 ``wstr_length`` 成员。 这使得对象大小在 64 位平台上减小了 8 个或 16 "
"个字节。 (:pep:`623`) （由 Inada Naoki 在 :gh:`92536` 中贡献。）"

#: ../../whatsnew/3.12.rst:974
msgid ""
"Added experimental support for using the BOLT binary optimizer in the build "
"process, which improves performance by 1-5%. (Contributed by Kevin "
"Modzelewski in :gh:`90536` and tuned by Dong-hee Na in :gh:`101525`)"
msgstr ""
"增加了在构建进程中使用 BOLT 二进制优化器的试验性支持，这将使使性能提升 1-5%。 （由 Kevin Modzelewski 在 "
":gh:`90536` 中贡献并由 Dong-hee Na 在 :gh:`101525` 中加以改进。）"

#: ../../whatsnew/3.12.rst:978
msgid ""
"Speed up the regular expression substitution (functions :func:`re.sub` and "
":func:`re.subn` and corresponding :class:`!re.Pattern` methods) for "
"replacement strings containing group references by 2--3 times. (Contributed "
"by Serhiy Storchaka in :gh:`91524`.)"
msgstr ""
"对于包含分组引用的替换字符串的正则表达式替换（包括 :func:`re.sub` 和 :func:`re.subn` 函数及对应的 "
":class:`!re.Pattern` 方法）可加速 2--3 倍。 （由 Serhiy Storchaka 在 :gh:`91524` 中贡献。）"

#: ../../whatsnew/3.12.rst:983
msgid ""
"Speed up :class:`asyncio.Task` creation by deferring expensive string "
"formatting. (Contributed by Itamar O in :gh:`103793`.)"
msgstr ""
"通过推迟高消耗的字符串格式化来加速 :class:`asyncio.Task` 的创建。 （由 Itamar O 在 :gh:`103793` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:986
msgid ""
"The :func:`tokenize.tokenize` and :func:`tokenize.generate_tokens` functions"
" are up to 64% faster as a side effect of the changes required to cover "
":pep:`701` in the :mod:`tokenize` module. (Contributed by Marta Gómez Macías"
" and Pablo Galindo in :gh:`102856`.)"
msgstr ""
"作为在 :mod:`tokenize` 模块中应用 :pep:`701` 所要求的更改的附带效果，:func:`tokenize.tokenize` 和"
" :func:`tokenize.generate_tokens` 函数可加速至多 64%。 （由 Marta Gómez Macías 和 Pablo"
" Galindo 在 :gh:`102856` 中贡献。）"

#: ../../whatsnew/3.12.rst:991
msgid ""
"Speed up :func:`super` method calls and attribute loads via the new "
":opcode:`LOAD_SUPER_ATTR` instruction. (Contributed by Carl Meyer and "
"Vladimir Matveev in :gh:`103497`.)"
msgstr ""
"通过新的 :opcode:`LOAD_SUPER_ATTR` 指令加速 :func:`super` 方法调用和属性加载。 （由 Carl Meyer 和"
" Vladimir Matveev 在 :gh:`103497` 中贡献。）"

#: ../../whatsnew/3.12.rst:997
msgid "CPython bytecode changes"
msgstr "CPython 字节码的改变"

#: ../../whatsnew/3.12.rst:999
msgid ""
"Remove the :opcode:`LOAD_METHOD` instruction. It has been merged into "
":opcode:`LOAD_ATTR`. :opcode:`LOAD_ATTR` will now behave like the old "
":opcode:`LOAD_METHOD` instruction if the low bit of its oparg is set. "
"(Contributed by Ken Jin in :gh:`93429`.)"
msgstr ""
"移除了 :opcode:`LOAD_METHOD` 指令。 它已被合并至 :opcode:`LOAD_ATTR`。 现在如果设置了 "
":opcode:`LOAD_ATTR` 的 oparg 的低比特位则它的行为将类似原来的 :opcode:`LOAD_METHOD`。 （由 Ken "
"Jin 在 :gh:`93429` 中贡献。）"

#: ../../whatsnew/3.12.rst:1004
msgid ""
"Remove the :opcode:`!JUMP_IF_FALSE_OR_POP` and "
":opcode:`!JUMP_IF_TRUE_OR_POP` instructions. (Contributed by Irit Katriel in"
" :gh:`102859`.)"
msgstr ""
"移除了 :opcode:`!JUMP_IF_FALSE_OR_POP` 和 :opcode:`!JUMP_IF_TRUE_OR_POP` 指令。 （由 "
"Irit Katriel 在 :gh:`102859` 中贡献。）"

#: ../../whatsnew/3.12.rst:1007
msgid ""
"Removed the :opcode:`!PRECALL` instruction. (Contributed by Mark Shannon in "
":gh:`92925`.)"
msgstr "移除了 :opcode:`!PRECALL` 指令。 （由 Mark Shannon 在 :gh:`92925` 中贡献。）"

#: ../../whatsnew/3.12.rst:1010
msgid ""
"Add the :opcode:`LOAD_FAST_AND_CLEAR` instruction as part of the "
"implementation of :pep:`709`. (Contributed by Carl Meyer in :gh:`101441`.)"
msgstr ""
"增加了 :opcode:`LOAD_FAST_AND_CLEAR` 指令作为 :pep:`709` 的实现的组成部分。 （由 Carl Meyer 在 "
":gh:`101441` 中贡献。）"

#: ../../whatsnew/3.12.rst:1013
msgid ""
"Add the :opcode:`LOAD_FROM_DICT_OR_DEREF`, "
":opcode:`LOAD_FROM_DICT_OR_GLOBALS`, and :opcode:`LOAD_LOCALS` opcodes as "
"part of the implementation of :pep:`695`. Remove the "
":opcode:`!LOAD_CLASSDEREF` opcode, which can be replaced with "
":opcode:`LOAD_LOCALS` plus :opcode:`LOAD_FROM_DICT_OR_DEREF`. (Contributed "
"by Jelle Zijlstra in :gh:`103764`.)"
msgstr ""
"增加了 :opcode:`LOAD_FROM_DICT_OR_DEREF`, :opcode:`LOAD_FROM_DICT_OR_GLOBALS` 和"
" :opcode:`LOAD_LOCALS` 操作码作为 :pep:`695` 的组成部分。 移除了 "
":opcode:`!LOAD_CLASSDEREF` 操作码，它可以用 :opcode:`LOAD_LOCALS` 加 "
":opcode:`LOAD_FROM_DICT_OR_DEREF` 来代替。 （由 Jelle Zijlstra 在 :gh:`103764` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:1019
msgid ""
"Add the :opcode:`LOAD_SUPER_ATTR` instruction. (Contributed by Carl Meyer "
"and Vladimir Matveev in :gh:`103497`.)"
msgstr ""
"增加了 :opcode:`LOAD_SUPER_ATTR` 指令。 （由 Carl Meyer 和 Vladimir Matveev 在 "
":gh:`103497` 中贡献。）"

#: ../../whatsnew/3.12.rst:1023
msgid "Demos and Tools"
msgstr "演示和工具"

#: ../../whatsnew/3.12.rst:1025
msgid ""
"Remove the ``Tools/demo/`` directory which contained old demo scripts. A "
"copy can be found in the `old-demos project "
"<https://github.com/gvanrossum/old-demos>`_. (Contributed by Victor Stinner "
"in :gh:`97681`.)"
msgstr ""
"移除了包含旧演示脚本的 ``Tools/demo/`` 目录。 其副本可在 `old-demos project "
"<https://github.com/gvanrossum/old-demos>`_ 中找到。 （由 Victor Stinner 在 "
":gh:`97681` 中贡献。）"

#: ../../whatsnew/3.12.rst:1030
msgid ""
"Remove outdated example scripts of the ``Tools/scripts/`` directory. A copy "
"can be found in the `old-demos project <https://github.com/gvanrossum/old-"
"demos>`_. (Contributed by Victor Stinner in :gh:`97669`.)"
msgstr ""
"移除了 ``Tools/scripts/`` 目录下过时的示例脚本。 其副本可在 `old-demos project "
"<https://github.com/gvanrossum/old-demos>`_ 中找到。 （由 Victor Stinner 在 "
":gh:`97669` 中贡献。）"

#: ../../whatsnew/3.12.rst:1037 ../../whatsnew/3.12.rst:1980
msgid "Deprecated"
msgstr "弃用"

#: ../../whatsnew/3.12.rst:1039
msgid ""
":mod:`asyncio`: The :meth:`~asyncio.get_event_loop` method of the default "
"event loop policy now emits a :exc:`DeprecationWarning` if there is no "
"current event loop set and it decides to create one. (Contributed by Serhiy "
"Storchaka and Guido van Rossum in :gh:`100160`.)"
msgstr ""
":mod:`asyncio`: 现在默认事件循环策略的 :meth:`~asyncio.get_event_loop` "
"方法在当前事件循环未设置并决定创建一个时将发出 :exc:`DeprecationWarning`。 （由 Serhiy Storchaka 和 "
"Guido van Rossum 在 :gh:`100160` 中贡献。）"

#: ../../whatsnew/3.12.rst:1044
msgid ""
":mod:`calendar`: ``calendar.January`` and ``calendar.February`` constants "
"are deprecated and replaced by :data:`calendar.JANUARY` and "
":data:`calendar.FEBRUARY`. (Contributed by Prince Roshan in :gh:`103636`.)"
msgstr ""
":mod:`calendar`: ``calendar.January`` 和 ``calendar.February`` 常量已被弃用并由 "
":data:`calendar.JANUARY` 和 :data:`calendar.FEBRUARY` 替代。 （由 Prince Roshan 在 "
":gh:`103636` 中贡献。）"

#: ../../whatsnew/3.12.rst:1048
msgid ""
":mod:`datetime`: :class:`datetime.datetime`'s "
":meth:`~datetime.datetime.utcnow` and "
":meth:`~datetime.datetime.utcfromtimestamp` are deprecated and will be "
"removed in a future version. Instead, use timezone-aware objects to "
"represent datetimes in UTC: respectively, call "
":meth:`~datetime.datetime.now` and :meth:`~datetime.datetime.fromtimestamp`"
"  with the *tz* parameter set to :const:`datetime.UTC`. (Contributed by Paul"
" Ganssle in :gh:`103857`.)"
msgstr ""
":mod:`datetime`: :class:`datetime.datetime` 的 "
":meth:`~datetime.datetime.utcnow` 和 "
":meth:`~datetime.datetime.utcfromtimestamp` 已被弃用并将在未来的版本中移除。 请改用可感知时区的对象以 "
"UTC 来表示日期时间：分别调用 :meth:`~datetime.datetime.now` 和 "
":meth:`~datetime.datetime.fromtimestamp` 并设置 *tz* 形参为 :const:`datetime.UTC`。"
" （由 Paul Ganssle 在 :gh:`103857` 中贡献。）"

#: ../../whatsnew/3.12.rst:1056
msgid ""
":mod:`os`: The ``st_ctime`` fields return by :func:`os.stat` and "
":func:`os.lstat` on Windows are deprecated. In a future release, they will "
"contain the last metadata change time, consistent with other platforms. For "
"now, they still contain the creation time, which is also available in the "
"new ``st_birthtime`` field. (Contributed by Steve Dower in :gh:`99726`.)"
msgstr ""
":mod:`os`: 在 Windows 上由 :func:`os.stat` 和 :func:`os.lstat` 返回的 ``st_ctime`` "
"字段已被弃用。 在未来的版本中，它们将包含最近的元数据修改时间，以与其他平台保持一致。 目前，它们仍然包含创建时间，该值也可通过新的 "
"``st_birthtime`` 字段获取。 （由 Steve Dower 在 :gh:`99726` 中贡献。）"

#: ../../whatsnew/3.12.rst:1062
msgid ""
":mod:`shutil`: The *onerror* argument of :func:`shutil.rmtree` is deprecated"
" as will be removed in Python 3.14. Use *onexc* instead. (Contributed by "
"Irit Katriel in :gh:`102828`.)"
msgstr ""
":mod:`shutil`: :func:`shutil.rmtree` 的 *onerror* 参数已被弃用并将在 Python 3.14 中移除。 "
"请改用 *onexc*。 （由 Irit Katriel 在 :gh:`102828` 中贡献。）"

#: ../../whatsnew/3.12.rst:1077
msgid ":mod:`sqlite3`:"
msgstr ":mod:`sqlite3`:"

#: ../../whatsnew/3.12.rst:1066
msgid ""
":ref:`default adapters and converters <sqlite3-default-converters>` are now "
"deprecated. Instead, use the :ref:`sqlite3-adapter-converter-recipes` and "
"tailor them to your needs. (Contributed by Erlend E. Aasland in "
":gh:`90016`.)"
msgstr ""
":ref:`默认适配器和转换器 <sqlite3-default-converters>` 现在已被弃用，请使用 "
":ref:`sqlite3-adapter-converter-recipes` 并根据你的需要调整它们。 （由 Erlend E. Aasland 在"
" :gh:`90016` 中贡献。）"

#: ../../whatsnew/3.12.rst:1072
msgid ""
"In :meth:`~sqlite3.Cursor.execute`, :exc:`DeprecationWarning` is now emitted"
" when :ref:`named placeholders <sqlite3-placeholders>` are used together "
"with parameters supplied as a :term:`sequence` instead of as a "
":class:`dict`. Starting from Python 3.14, using named placeholders with "
"parameters supplied as a sequence will raise a "
":exc:`~sqlite3.ProgrammingError`. (Contributed by Erlend E. Aasland in "
":gh:`101698`.)"
msgstr ""
"在 :meth:`~sqlite3.Cursor.execute` 中，现在当 :ref:`命名占位符 <sqlite3-placeholders>` "
"与作为 :term:`sequence` 而不是 :class:`dict` 提供的形参一起使用时将发出 "
":exc:`DeprecationWarning`。 从 Python 3.14 开始，当命名占位符与作为序列提供的形参一起使用时将引发 "
":exc:`~sqlite3.ProgrammingError`。 （由 Erlend E. Aasland 在 :gh:`101698` 中贡献。）"

#: ../../whatsnew/3.12.rst:1079
msgid ""
":mod:`sys`: The :data:`sys.last_type`, :data:`sys.last_value` and "
":data:`sys.last_traceback` fields are deprecated. Use :data:`sys.last_exc` "
"instead. (Contributed by Irit Katriel in :gh:`102778`.)"
msgstr ""
":mod:`sys`: :data:`sys.last_type`, :data:`sys.last_value` 和 "
":data:`sys.last_traceback` 字段已被弃用。 请改用 :data:`sys.last_exc`。 （由 Irit Katriel"
" 在 :gh:`102778` 中贡献。）"

#: ../../whatsnew/3.12.rst:1083
msgid ""
":mod:`tarfile`: Extracting tar archives without specifying *filter* is "
"deprecated until Python 3.14, when ``'data'`` filter will become the "
"default. See :ref:`tarfile-extraction-filter` for details."
msgstr ""
":mod:`tarfile`: 提取 tar 归档而不指定 *filter* 的做法已被弃用直到 Python 3.14，在该版本中 "
"``'data'`` 将成为默认过滤器。 请参阅 :ref:`tarfile-extraction-filter` 了解详情。"

#: ../../whatsnew/3.12.rst:1087
msgid ""
":mod:`typing`: :class:`typing.Hashable` and :class:`typing.Sized` aliases "
"for :class:`collections.abc.Hashable` and :class:`collections.abc.Sized`. "
"(:gh:`94309`.)"
msgstr ""
":mod:`typing`: :class:`typing.Hashable` 和 :class:`typing.Sized` 是 "
":class:`collections.abc.Hashable` 和 :class:`collections.abc.Sized` 的别名。 （参见 "
":gh:`94309`。）"

#: ../../whatsnew/3.12.rst:1090
msgid ""
":mod:`xml.etree.ElementTree`: The module now emits :exc:`DeprecationWarning`"
" when testing the truth value of an :class:`xml.etree.ElementTree.Element`. "
"Before, the Python implementation emitted :exc:`FutureWarning`, and the C "
"implementation emitted nothing."
msgstr ""
":mod:`xml.etree.ElementTree`: 现在该模块在对 :class:`xml.etree.ElementTree.Element`"
" 进行真值测试时将发出 :exc:`DeprecationWarning`。 在之前，Python 实现会发出 "
":exc:`FutureWarning`，而 C 实现则不会发出任何警告。"

#: ../../whatsnew/3.12.rst:1095
msgid ""
"The 3-arg signatures (type, value, traceback) of :meth:`~coroutine.throw`, "
":meth:`~generator.throw` and :meth:`~agen.athrow` are deprecated and may be "
"removed in a future version of Python. Use the single-arg versions of these "
"functions instead. (Contributed by Ofey Chan in :gh:`89874`.)"
msgstr ""
":meth:`~coroutine.throw`, :meth:`~generator.throw` 和 :meth:`~agen.athrow` 的 "
"3 参数签名 (type, value, traceback) 已被弃用并可能在未来的 Python 版本中被移除。 请改用这些函数的单参数版本。 （由"
" Ofey Chan 在 :gh:`89874` 中贡献。）"

#: ../../whatsnew/3.12.rst:1100
msgid ""
":exc:`DeprecationWarning` is now raised when ``__package__`` on a module "
"differs from ``__spec__.parent`` (previously it was :exc:`ImportWarning`). "
"(Contributed by Brett Cannon in :gh:`65961`.)"
msgstr ""
"现在当一个模块上的 ``__package__`` 不同于 ``__spec__.parent`` 时将引发 "
":exc:`DeprecationWarning`  (在之前版本中则为 :exc:`ImportWarning`)。 （由 Brett Cannon "
"在 :gh:`65961` 中贡献。）"

#: ../../whatsnew/3.12.rst:1105
msgid ""
"In accordance with :pep:`699`, the ``ma_version_tag`` field in "
":c:type:`PyDictObject` is deprecated for extension modules. Accessing this "
"field will generate a compiler warning at compile time. This field will be "
"removed in Python 3.14. (Contributed by Ramvikrams and Kumar Aditya in "
":gh:`101193`. PEP by Ken Jin.)"
msgstr ""
"根据 :pep:`699` 的要求，:c:type:`PyDictObject` 中的 ``ma_version_tag`` 字段对于扩展模块已被弃用。"
" 访问该字段将在编译时生成编译器警告。 该字段将在 Python 3.14 中移除。 （由 Ramvikrams 和 Kumar Aditya 在 "
":gh:`101193` 中贡献。 PEP 由 Ken Jin 撰写。）"

#: ../../whatsnew/3.12.rst:1110
msgid ""
"The bitwise inversion operator (``~``) on bool is deprecated. It will throw "
"an error in Python 3.14. Use ``not`` for logical negation of bools instead. "
"In the rare case that you really need the bitwise inversion of the "
"underlying ``int``, convert to int explicitly with ``~int(x)``. (Contributed"
" by Tim Hoffmann in :gh:`103487`.)"
msgstr ""
"用于布尔值的按位取反运算符 (``~``) 已被弃用。 它在 Python 3.14 中将抛出错误。 请改用 ``not`` 执行布尔值的逻辑非运算。 "
"在你确实需要对下层的 ``int`` 执行取反运算的少数场景下，请显式地通过 ``~int(x)`` 将其转换为整数值。 （由 Tim Hoffmann"
" 在 :gh:`103487` 中贡献。）"

#: ../../whatsnew/3.12.rst:1117
msgid "Pending Removal in Python 3.13"
msgstr "计划在 Python 3.13 中移除"

#: ../../whatsnew/3.12.rst:1119
msgid ""
"The following modules and APIs have been deprecated in earlier Python "
"releases, and will be removed in Python 3.13."
msgstr "以下模块和 API 已在之前的 Python 发布版中弃用，并将在 Python 3.13 中移除。"

#: ../../whatsnew/3.12.rst:1122
msgid "Modules (see :pep:`594`):"
msgstr "模块 (参见 :pep:`594`):"

#: ../../whatsnew/3.12.rst:1124
msgid ":mod:`aifc`"
msgstr ":mod:`aifc`"

#: ../../whatsnew/3.12.rst:1125
msgid ":mod:`audioop`"
msgstr ":mod:`audioop`"

#: ../../whatsnew/3.12.rst:1126
msgid ":mod:`cgi`"
msgstr ":mod:`cgi`"

#: ../../whatsnew/3.12.rst:1127
msgid ":mod:`cgitb`"
msgstr ":mod:`cgitb`"

#: ../../whatsnew/3.12.rst:1128
msgid ":mod:`chunk`"
msgstr ":mod:`chunk`"

#: ../../whatsnew/3.12.rst:1129
msgid ":mod:`crypt`"
msgstr ":mod:`crypt`"

#: ../../whatsnew/3.12.rst:1130
msgid ":mod:`imghdr`"
msgstr ":mod:`imghdr`"

#: ../../whatsnew/3.12.rst:1131
msgid ":mod:`mailcap`"
msgstr ":mod:`mailcap`"

#: ../../whatsnew/3.12.rst:1132
msgid ":mod:`msilib`"
msgstr ":mod:`msilib`"

#: ../../whatsnew/3.12.rst:1133
msgid ":mod:`nis`"
msgstr ":mod:`nis`"

#: ../../whatsnew/3.12.rst:1134
msgid ":mod:`nntplib`"
msgstr ":mod:`nntplib`"

#: ../../whatsnew/3.12.rst:1135
msgid ":mod:`ossaudiodev`"
msgstr ":mod:`ossaudiodev`"

#: ../../whatsnew/3.12.rst:1136
msgid ":mod:`pipes`"
msgstr ":mod:`pipes`"

#: ../../whatsnew/3.12.rst:1137
msgid ":mod:`sndhdr`"
msgstr ":mod:`sndhdr`"

#: ../../whatsnew/3.12.rst:1138
msgid ":mod:`spwd`"
msgstr ":mod:`spwd`"

#: ../../whatsnew/3.12.rst:1139
msgid ":mod:`sunau`"
msgstr ":mod:`sunau`"

#: ../../whatsnew/3.12.rst:1140
msgid ":mod:`telnetlib`"
msgstr ":mod:`telnetlib`"

#: ../../whatsnew/3.12.rst:1141
msgid ":mod:`uu`"
msgstr ":mod:`uu`"

#: ../../whatsnew/3.12.rst:1142
msgid ":mod:`xdrlib`"
msgstr ":mod:`xdrlib`"

#: ../../whatsnew/3.12.rst:1144
msgid "Other modules:"
msgstr "其他模块："

#: ../../whatsnew/3.12.rst:1146
msgid ":mod:`!lib2to3`, and the :program:`2to3` program (:gh:`84540`)"
msgstr ":mod:`!lib2to3`，以及 :program:`2to3` 程序 (:gh:`84540`)"

#: ../../whatsnew/3.12.rst:1148
msgid "APIs:"
msgstr "API:"

#: ../../whatsnew/3.12.rst:1150
msgid ":class:`!configparser.LegacyInterpolation` (:gh:`90765`)"
msgstr ":class:`!configparser.LegacyInterpolation` (:gh:`90765`)"

#: ../../whatsnew/3.12.rst:1151
msgid ":func:`locale.getdefaultlocale` (:gh:`90817`)"
msgstr ":func:`locale.getdefaultlocale` (:gh:`90817`)"

#: ../../whatsnew/3.12.rst:1152
msgid ":meth:`!turtle.RawTurtle.settiltangle` (:gh:`50096`)"
msgstr ":meth:`!turtle.RawTurtle.settiltangle` (:gh:`50096`)"

#: ../../whatsnew/3.12.rst:1153
msgid ":func:`!unittest.findTestCases` (:gh:`50096`)"
msgstr ":func:`!unittest.findTestCases` (:gh:`50096`)"

#: ../../whatsnew/3.12.rst:1154
msgid ":func:`!unittest.getTestCaseNames` (:gh:`50096`)"
msgstr ":func:`!unittest.getTestCaseNames` (:gh:`50096`)"

#: ../../whatsnew/3.12.rst:1155
msgid ":func:`!unittest.makeSuite` (:gh:`50096`)"
msgstr ":func:`!unittest.makeSuite` (:gh:`50096`)"

#: ../../whatsnew/3.12.rst:1156
msgid ":meth:`!unittest.TestProgram.usageExit` (:gh:`67048`)"
msgstr ":meth:`!unittest.TestProgram.usageExit` (:gh:`67048`)"

#: ../../whatsnew/3.12.rst:1157
msgid ":class:`!webbrowser.MacOSX` (:gh:`86421`)"
msgstr ":class:`!webbrowser.MacOSX` (:gh:`86421`)"

#: ../../whatsnew/3.12.rst:1158
msgid ":class:`classmethod` descriptor chaining (:gh:`89519`)"
msgstr ":class:`classmethod` 描述器串联 (:gh:`89519`)"

#: ../../whatsnew/3.12.rst:1161
msgid "Pending Removal in Python 3.14"
msgstr "计划在 Python 3.14 中移除"

#: ../../whatsnew/3.12.rst:1163
msgid ""
":mod:`argparse`: The *type*, *choices*, and *metavar* parameters of "
":class:`!argparse.BooleanOptionalAction` are deprecated and will be removed "
"in 3.14. (Contributed by Nikita Sobolev in :gh:`92248`.)"
msgstr ""
":mod:`argparse`: :class:`!argparse.BooleanOptionalAction` 的 *type*, "
"*choices* 和 *metavar* 形参已被弃用并将在 3.14 中移除。 （由 Nikita Sobolev 在 :gh:`92248` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:1168
msgid ""
":mod:`ast`: The following :mod:`ast` features have been deprecated in "
"documentation since Python 3.8, now cause a :exc:`DeprecationWarning` to be "
"emitted at runtime when they are accessed or used, and will be removed in "
"Python 3.14:"
msgstr ""
":mod:`ast`: 以下 :mod:`ast` 特性自 Python 3.8 起已在文档中声明弃用，现在当运行时如果它们被访问或使用将发出 "
":exc:`DeprecationWarning`，并将在 Python 3.14 中移除:"

#: ../../whatsnew/3.12.rst:1172
msgid ":class:`!ast.Num`"
msgstr ":class:`!ast.Num`"

#: ../../whatsnew/3.12.rst:1173
msgid ":class:`!ast.Str`"
msgstr ":class:`!ast.Str`"

#: ../../whatsnew/3.12.rst:1174
msgid ":class:`!ast.Bytes`"
msgstr ":class:`!ast.Bytes`"

#: ../../whatsnew/3.12.rst:1175
msgid ":class:`!ast.NameConstant`"
msgstr ":class:`!ast.NameConstant`"

#: ../../whatsnew/3.12.rst:1176
msgid ":class:`!ast.Ellipsis`"
msgstr ":class:`!ast.Ellipsis`"

#: ../../whatsnew/3.12.rst:1178
msgid ""
"Use :class:`ast.Constant` instead. (Contributed by Serhiy Storchaka in "
":gh:`90953`.)"
msgstr "请改用 :class:`ast.Constant`。 （由 Serhiy Storchaka 在 :gh:`90953` 中贡献。）"

#: ../../whatsnew/3.12.rst:1181
msgid ""
":mod:`asyncio`: the *msg* parameter of both :meth:`asyncio.Future.cancel` "
"and :meth:`asyncio.Task.cancel` (:gh:`90985`)"
msgstr ""
":mod:`asyncio`: :meth:`asyncio.Future.cancel` 和 :meth:`asyncio.Task.cancel` "
"的 *msg* 形参 (:gh:`90985`)"

#: ../../whatsnew/3.12.rst:1185
msgid ""
":mod:`collections.abc`: Deprecated :class:`collections.abc.ByteString`. "
"Prefer :class:`Sequence` or :class:`collections.abc.Buffer`. For use in "
"typing, prefer a union, like ``bytes | bytearray``, or "
":class:`collections.abc.Buffer`. (Contributed by Shantanu Jain in "
":gh:`91896`.)"
msgstr ""
":mod:`collections.abc`: 已弃用 :class:`collections.abc.ByteString`。 推荐改用 "
":class:`Sequence` 或 :class:`collections.abc.Buffer`。 在类型标中，推荐改用并集，如 ``bytes "
"| bytearray`` 或 :class:`collections.abc.Buffer`。 （由 Shantanu Jain 在 "
":gh:`91896` 中贡献。）"

#: ../../whatsnew/3.12.rst:1190
msgid ""
":mod:`email`: Deprecated the *isdst* parameter in "
":func:`email.utils.localtime`. (Contributed by Alan Williams in "
":gh:`72346`.)"
msgstr ""
":mod:`email`: 已弃用 :func:`email.utils.localtime` 中的 *isdst* 形参。 （由 Alan "
"Williams 在 :gh:`72346` 中贡献。）"

#: ../../whatsnew/3.12.rst:1193
msgid ""
":mod:`importlib.abc`: Deprecated the following classes, scheduled for "
"removal in Python 3.14:"
msgstr ":mod:`importlib.abc`: 已弃用下列类，计划在 Python 3.14 中移除:"

#: ../../whatsnew/3.12.rst:1196
msgid ":class:`!importlib.abc.ResourceReader`"
msgstr ":class:`!importlib.abc.ResourceReader`"

#: ../../whatsnew/3.12.rst:1197
msgid ":class:`!importlib.abc.Traversable`"
msgstr ":class:`!importlib.abc.Traversable`"

#: ../../whatsnew/3.12.rst:1198
msgid ":class:`!importlib.abc.TraversableResources`"
msgstr ":class:`!importlib.abc.TraversableResources`"

#: ../../whatsnew/3.12.rst:1200
msgid "Use :mod:`importlib.resources.abc` classes instead:"
msgstr "使用 :mod:`importlib.resources.abc` 类代替:"

#: ../../whatsnew/3.12.rst:1202
msgid ":class:`importlib.resources.abc.Traversable`"
msgstr ":class:`importlib.resources.abc.Traversable`"

#: ../../whatsnew/3.12.rst:1203
msgid ":class:`importlib.resources.abc.TraversableResources`"
msgstr ":class:`importlib.resources.abc.TraversableResources`"

#: ../../whatsnew/3.12.rst:1205
msgid "(Contributed by Jason R. Coombs and Hugo van Kemenade in :gh:`93963`.)"
msgstr "（由 Jason R. Coombs 和 Hugo van Kemenade 在 :gh:`93963` 中贡献。）"

#: ../../whatsnew/3.12.rst:1207
msgid ""
":mod:`itertools`: The module had undocumented, inefficient, historically "
"buggy, and inconsistent support for copy, deepcopy, and pickle operations. "
"This will be removed in 3.14 for a significant reduction in code volume and "
"maintenance burden. (Contributed by Raymond Hettinger in :gh:`101588`.)"
msgstr ""
":mod:`itertools`: 该模块具有对 copy, deepcopy 和 pickle "
"等操作的未写入文档的、低效的、历史上充满问题的且不稳定的支持。 这将在 3.14 中移除以显著减少代码量和维护负担。 （由 Raymond "
"Hettinger 在 :gh:`101588` 中贡献。）"

#: ../../whatsnew/3.12.rst:1213
msgid ""
":mod:`multiprocessing`: The default :mod:`multiprocessing` start method will"
" change to a safer one on Linux, BSDs, and other non-macOS POSIX platforms "
"where ``'fork'`` is currently the default (:gh:`84559`). Adding a runtime "
"warning about this was deemed too disruptive as the majority of code is not "
"expected to care. Use the :func:`~multiprocessing.get_context` or "
":func:`~multiprocessing.set_start_method` APIs to explicitly specify when "
"your code *requires* ``'fork'``.  See :ref:`multiprocessing-start-methods`."
msgstr ""
":mod:`multiprocessing`: 默认的 :mod:`multiprocessing` 启动方法在目前默认使用 ``'fork'`` 的 "
"Linux, BSD 和其他非 macOS 的 POSIX 平台上将改为更安全的启动方法 (:gh:`84559`)。 "
"为此添加运行时警告将带来糟糕的体验因为大部分代码并不会关心这个问题。 当你的代码 *需要* ``'fork'`` 时请使用 "
":func:`~multiprocessing.get_context` 或 "
":func:`~multiprocessing.set_start_method` API 来显式地指明。 参见 "
":ref:`multiprocessing-start-methods`。"

#: ../../whatsnew/3.12.rst:1221
msgid ""
":mod:`pkgutil`: :func:`pkgutil.find_loader` and :func:`pkgutil.get_loader` "
"now raise :exc:`DeprecationWarning`; use :func:`importlib.util.find_spec` "
"instead. (Contributed by Nikita Sobolev in :gh:`97850`.)"
msgstr ""
":mod:`pkgutil`: 现在 :func:`pkgutil.find_loader` 和 :func:`pkgutil.get_loader` "
"将引发 :exc:`DeprecationWarning`；请改用 :func:`importlib.util.find_spec`。 （由 "
"Nikita Sobolev 在 :gh:`97850` 中贡献。）"

#: ../../whatsnew/3.12.rst:1226
msgid ""
":mod:`pty`: The module has two undocumented ``master_open()`` and "
"``slave_open()`` functions that have been deprecated since Python 2 but only"
" gained a proper :exc:`DeprecationWarning` in 3.12. Remove them in 3.14."
msgstr ""
":mod:`pty`: 该模块有两个未写入文档的 ``master_open()`` 和 ``slave_open()`` 函数自 Python 2 "
"起即已被弃用但直到 3.12 才添加了相应的 :exc:`DeprecationWarning`。 它们将在 3.14 中移除。"

#: ../../whatsnew/3.12.rst:1230
msgid ""
":mod:`shutil`: The *onerror* argument of :func:`shutil.rmtree` is deprecated"
" in 3.12, and will be removed in 3.14."
msgstr ""
":mod:`shutil`: :func:`shutil.rmtree` 的 *onerror* 参数在 3.12 中已被弃用，并将在 3.14 "
"中移除。"

#: ../../whatsnew/3.12.rst:1233
msgid ""
":mod:`typing`: :class:`typing.ByteString`, deprecated since Python 3.9, now "
"causes a :exc:`DeprecationWarning` to be emitted when it is used."
msgstr ""
":mod:`typing`: :class:`typing.ByteString` 自 Python 3.9 起已被弃用，现在当被使用时将会发出 "
":exc:`DeprecationWarning`。"

#: ../../whatsnew/3.12.rst:1236
msgid ""
":mod:`xml.etree.ElementTree`: Testing the truth value of an "
":class:`xml.etree.ElementTree.Element` is deprecated and will raise an "
"exception in Python 3.14."
msgstr ""
":mod:`xml.etree.ElementTree`: 已弃用对 :class:`xml.etree.ElementTree.Element` "
"进行真值测试并将在 Python 3.14 中引发异常。"

#: ../../whatsnew/3.12.rst:1239
msgid ""
"Creating immutable types (:c:macro:`Py_TPFLAGS_IMMUTABLETYPE`) with mutable "
"bases using the C API (:gh:`95388`)."
msgstr ""
"使用 C API 创建以可变类为基类的不可变类型 (:c:macro:`Py_TPFLAGS_IMMUTABLETYPE`) "
"(:gh:`95388`)。"

#: ../../whatsnew/3.12.rst:1242
msgid ""
"``__package__`` and ``__cached__`` will cease to be set or taken into "
"consideration by the import system (:gh:`97879`)."
msgstr "``__package__`` 和 ``__cached__`` 将不再被设置或是被导入系统纳入考量 (:gh:`97879`)。"

#: ../../whatsnew/3.12.rst:1245
msgid ""
"Accessing ``co_lnotab`` was deprecated in :pep:`626` since 3.10 and was "
"planned to be removed in 3.12 but it only got a proper "
":exc:`DeprecationWarning` in 3.12. May be removed in 3.14. (Contributed by "
"Nikita Sobolev in :gh:`101866`.)"
msgstr ""
"对 ``co_lnotab`` 的访问自 3.10 起已在 :pep:`626` 中被弃用并原定在 3.12 中移除，但实际上在 3.12 中仅添加了 "
":exc:`DeprecationWarning`。 可能会在 3.14 中移除。 （由 Nikita Sobolev 在 :gh:`101866` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:1251
msgid ""
"Creating :c:data:`immutable types <Py_TPFLAGS_IMMUTABLETYPE>` with mutable "
"bases using the C API (:gh:`95388`)"
msgstr ""
"使用 C API 创建以可变类为基类的 :c:data:`不可变类型 <Py_TPFLAGS_IMMUTABLETYPE>` (:gh:`95388`)"

#: ../../whatsnew/3.12.rst:1255
msgid "Pending Removal in Future Versions"
msgstr "计划在未来版本中移除"

#: ../../whatsnew/3.12.rst:1257
msgid ""
"The following APIs were deprecated in earlier Python versions and will be "
"removed, although there is currently no date scheduled for their removal."
msgstr "下列 API 在更早的 Python 版本中已被弃用并将被移除，但目前还没有确定它们的移除日期。"

#: ../../whatsnew/3.12.rst:1260
msgid ":mod:`array`'s ``'u'`` format code (:gh:`57281`)"
msgstr ":mod:`array` 的 ``'u'`` 格式代码 (:gh:`57281`)"

#: ../../whatsnew/3.12.rst:1262
msgid ":class:`typing.Text` (:gh:`92332`)"
msgstr ":class:`typing.Text` (:gh:`92332`)"

#: ../../whatsnew/3.12.rst:1264
msgid ""
"Currently Python accepts numeric literals immediately followed by keywords, "
"for example ``0in x``, ``1or x``, ``0if 1else 2``.  It allows confusing and "
"ambiguous expressions like ``[0x1for x in y]`` (which can be interpreted as "
"``[0x1 for x in y]`` or ``[0x1f or x in y]``). A syntax warning is raised if"
" the numeric literal is immediately followed by one of keywords "
":keyword:`and`, :keyword:`else`, :keyword:`for`, :keyword:`if`, "
":keyword:`in`, :keyword:`is` and :keyword:`or`. In a future release it will "
"be changed to a syntax error. (:gh:`87999`)"
msgstr ""
"目前 Python 接受数字类字面值后面紧跟关键字的写法，例如 ``0in x``, ``1or x``, ``0if 1else 2``。 它将允许像"
" ``[0x1for x in y]`` 这样令人困惑且模棱两可的表达式 (它可以被解读为 ``[0x1 for x in y]`` 或者 "
"``[0x1f or x in y]``)。 从本发布版开始，如果数字类字面值后面紧跟关键字 :keyword:`and`, "
":keyword:`else`, :keyword:`for`, :keyword:`if`, :keyword:`in`, :keyword:`is`"
" 和 :keyword:`or` 中的一个将会引发弃用警告。 在未来的版本中它将改为语法警告，最终将改为语法错误。 (:gh:`87999`)"

#: ../../whatsnew/3.12.rst:1275 ../../whatsnew/3.12.rst:2062
msgid "Removed"
msgstr "移除"

#: ../../whatsnew/3.12.rst:1277
msgid ""
"``asynchat`` and ``asyncore``: These two modules have been removed according"
" to the schedule in :pep:`594`, having been deprecated in Python 3.6. Use "
":mod:`asyncio` instead. (Contributed by Nikita Sobolev in :gh:`96580`.)"
msgstr ""
"``asynchat`` 和 ``asyncore``: 根据 :pep:`594` 中的时间表这两个模块已被移除，它们从 Python 3.6 "
"起已被弃用。 请改用 :mod:`asyncio`。 （由 Nikita Sobolev 在 :gh:`96580` 中贡献。）"

#: ../../whatsnew/3.12.rst:1283
msgid ""
":mod:`configparser`: Several names deprecated in the :mod:`configparser` way"
" back in 3.2 have been removed per :gh:`89336`:"
msgstr ""
":mod:`configparser`: 几个 :mod:`configparser` 中从 3.2 起已被弃用的名称已根据 :gh:`89336` "
"被移除:"

#: ../../whatsnew/3.12.rst:1286
msgid ""
":class:`configparser.ParsingError` no longer has a ``filename`` attribute or"
" argument. Use the ``source`` attribute and argument instead."
msgstr ""
":class:`configparser.ParsingError` 不再具有 ``filename`` 属性或参数。 请改用 ``source`` "
"属性和参数。"

#: ../../whatsnew/3.12.rst:1288
msgid ""
":mod:`configparser` no longer has a ``SafeConfigParser`` class. Use the "
"shorter :class:`~configparser.ConfigParser` name instead."
msgstr ""
":mod:`configparser` 不再具有 ``SafeConfigParser`` 类。 请改用更简短的名称 "
":class:`~configparser.ConfigParser`。"

#: ../../whatsnew/3.12.rst:1290
msgid ""
":class:`configparser.ConfigParser` no longer has a ``readfp`` method. Use "
":meth:`~configparser.ConfigParser.read_file` instead."
msgstr ""
":class:`configparser.ConfigParser` 不再具有 ``readfp`` 方法。 请改用 "
":meth:`~configparser.ConfigParser.read_file`。"

#: ../../whatsnew/3.12.rst:1293
msgid ""
"``distutils``: Remove the ``distutils`` package. It was deprecated in Python"
" 3.10 by :pep:`632` \"Deprecate distutils module\". For projects still using"
" ``distutils`` and cannot be updated to something else, the ``setuptools`` "
"project can be installed: it still provides ``distutils``. (Contributed by "
"Victor Stinner in :gh:`92584`.)"
msgstr ""
"``distutils``: 移除了 ``distutils`` 包。 它已在 Python 3.10 中根据 :pep:`632` "
"\"Deprecate distutils module\" 被弃用。 对于仍然使用 ``distutils`` "
"且无法升级为使用其他工具的项目，可以安装 ``setuptools`` 项目：它仍然提供了 ``distutils``。 （由 Victor "
"Stinner 在 :gh:`92584` 中贡献。）"

#: ../../whatsnew/3.12.rst:1299
msgid ""
":mod:`ensurepip`: Remove the bundled setuptools wheel from :mod:`ensurepip`,"
" and stop installing setuptools in environments created by :mod:`venv`."
msgstr ""
":mod:`ensurepip`: 从 :mod:`ensurepip` 中移除了捆绑的 setuptools wheel，并停止在由 "
":mod:`venv` 创建的环境中安装 setuptools。"

#: ../../whatsnew/3.12.rst:1302
msgid ""
"``pip (>= 22.1)`` does not require setuptools to be installed in the "
"environment. ``setuptools``-based (and ``distutils``-based) packages can "
"still be used with ``pip install``, since pip will provide ``setuptools`` in"
" the build environment it uses for building a package."
msgstr ""
"``pip (>= 22.1)`` 不再要求在环境中安装 setuptools。 基于 ``setuptools`` (和基于 "
"``distutils``) 的包仍然可通过 ``pip install`` 来使用，因为 pip 将在它用于构建包的构建环境中提供 "
"``setuptools``。"

#: ../../whatsnew/3.12.rst:1308
msgid ""
"``easy_install``, ``pkg_resources``, ``setuptools`` and ``distutils`` are no"
" longer provided by default in environments created with ``venv`` or "
"bootstrapped with ``ensurepip``, since they are part of the ``setuptools`` "
"package. For projects relying on these at runtime, the ``setuptools`` "
"project should be declared as a dependency and installed separately "
"(typically, using pip)."
msgstr ""
"在默认情况下由 ``venv`` 创建或通过 ``ensurepip`` 初始化的环境将不再提供 ``easy_install``, "
"``pkg_resources``, ``setuptools`` 和 ``distutils`` 包，因为它们是 ``setuptools`` "
"包的组成部分。 对于在运行时依赖这些包的项目，应当将 ``setuptools`` 项目声明为依赖项之一并单独安装（通常是使用 pip）。"

#: ../../whatsnew/3.12.rst:1315
msgid "(Contributed by Pradyun Gedam in :gh:`95299`.)"
msgstr "（由 Pradyun Gedam 在 :gh:`95299` 中贡献。）"

#: ../../whatsnew/3.12.rst:1317
msgid ""
":mod:`enum`: Remove ``EnumMeta.__getattr__``, which is no longer needed for "
"enum attribute access. (Contributed by Ethan Furman in :gh:`95083`.)"
msgstr ""
":mod:`enum`: 移除了 ``EnumMeta.__getattr__``，枚举属性访问已不再需要它。 （由 Ethan Furman 在 "
":gh:`95083` 中贡献。）"

#: ../../whatsnew/3.12.rst:1321
msgid ""
":mod:`ftplib`: Remove the ``FTP_TLS.ssl_version`` class attribute: use the "
"*context* parameter instead. (Contributed by Victor Stinner in :gh:`94172`.)"
msgstr ""
":mod:`ftplib`: 移除了 ``FTP_TLS.ssl_version`` 类属性：请改用 *context* 形参。 （由 Victor "
"Stinner 在 :gh:`94172` 中贡献。）"

#: ../../whatsnew/3.12.rst:1325
msgid ""
":mod:`gzip`: Remove the ``filename`` attribute of :class:`gzip.GzipFile`, "
"deprecated since Python 2.6, use the :attr:`~gzip.GzipFile.name` attribute "
"instead. In write mode, the ``filename`` attribute added ``'.gz'`` file "
"extension if it was not present. (Contributed by Victor Stinner in "
":gh:`94196`.)"
msgstr ""
":mod:`gzip`: 移除了 :class:`gzip.GzipFile` 的 ``filename`` 属性，自 Python 2.6 "
"起该属性已被弃用，请改用 :attr:`~gzip.GzipFile.name` 属性。 在可写模式下，如果 ``filename`` 属性不存在 "
"``'.gz'`` 文件扩展名则会添加它。 （由 Victor Stinner 在 :gh:`94196` 中贡献。）"

#: ../../whatsnew/3.12.rst:1331
msgid ""
":mod:`hashlib`: Remove the pure Python implementation of "
":func:`hashlib.pbkdf2_hmac()`, deprecated in Python 3.10. Python 3.10 and "
"newer requires OpenSSL 1.1.1 (:pep:`644`): this OpenSSL version provides a C"
" implementation of :func:`~hashlib.pbkdf2_hmac()` which is faster. "
"(Contributed by Victor Stinner in :gh:`94199`.)"
msgstr ""
":mod:`hashlib`: 移除了 :func:`hashlib.pbkdf2_hmac()` 的纯 Python 实现，该实现在 Python "
"3.10 中已被弃用。 Python 3.10 及更新版本需要 OpenSSL 1.1.1 (:pep:`644`)：该 OpenSSL 版本提供了 "
":func:`~hashlib.pbkdf2_hmac()` 的 C 语言实现，速度更快。 （由 Victor Stinner 在 "
":gh:`94199` 中贡献。）"

#: ../../whatsnew/3.12.rst:1337
msgid ""
":mod:`importlib`: Many previously deprecated cleanups in :mod:`importlib` "
"have now been completed:"
msgstr ":mod:`importlib`: :mod:`importlib` 中许多先前已弃用的清理工作现已完成:"

#: ../../whatsnew/3.12.rst:1340
msgid ""
"References to, and support for :meth:`!module_repr()` has been removed. "
"(Contributed by Barry Warsaw in :gh:`97850`.)"
msgstr ""
"对 :meth:`!module_repr()` 的引用和支持已被移除。 （由 Barry Warsaw 在 :gh:`97850` 中贡献。）"

#: ../../whatsnew/3.12.rst:1343
msgid ""
"``importlib.util.set_package``, ``importlib.util.set_loader`` and "
"``importlib.util.module_for_loader`` have all been removed. (Contributed by "
"Brett Cannon and Nikita Sobolev in :gh:`65961` and :gh:`97850`.)"
msgstr ""
"``importlib.util.set_package``, ``importlib.util.set_loader`` 和 "
"``importlib.util.module_for_loader`` 均已被移除。 （由 Brett Cannon 和 Nikita Sobolev"
" 在 :gh:`65961` 和 :gh:`97850` 中贡献。）"

#: ../../whatsnew/3.12.rst:1347
msgid ""
"Support for ``find_loader()`` and ``find_module()`` APIs have been removed."
"  (Contributed by Barry Warsaw in :gh:`98040`.)"
msgstr ""
"对 ``find_loader()`` 和 ``find_module()`` API 的支持已被移除。 （由 Barry Warsaw 在 "
":gh:`98040` 中贡献。）"

#: ../../whatsnew/3.12.rst:1350
msgid ""
"``importlib.abc.Finder``, ``pkgutil.ImpImporter``, and ``pkgutil.ImpLoader``"
" have been removed.  (Contributed by Barry Warsaw in :gh:`98040`.)"
msgstr ""
"``importlib.abc.Finder``, ``pkgutil.ImpImporter`` 和 ``pkgutil.ImpLoader`` "
"已被移除。 （由 Barry Warsaw 在 :gh:`98040` 中贡献。）"

#: ../../whatsnew/3.12.rst:1353
msgid ""
"The :mod:`!imp` module has been removed.  (Contributed by Barry Warsaw in "
":gh:`98040`.)"
msgstr ":mod:`!imp` 模块已被移除。 （由 Barry Warsaw 在 :gh:`98040` 中贡献。）"

#: ../../whatsnew/3.12.rst:1356
msgid "Replace removed :mod:`!imp` functions with :mod:`importlib` functions:"
msgstr "将已移除的 :mod:`!imp` 函数替换为 :mod:`importlib` 函数:"

#: ../../whatsnew/3.12.rst:1359
msgid "imp"
msgstr "imp"

#: ../../whatsnew/3.12.rst:1359
msgid "importlib"
msgstr "importlib"

#: ../../whatsnew/3.12.rst:1361
msgid "``imp.NullImporter``"
msgstr "``imp.NullImporter``"

#: ../../whatsnew/3.12.rst:1361
msgid "Insert ``None`` into ``sys.path_importer_cache``"
msgstr "将 ``None`` 插入到 ``sys.path_importer_cache``"

#: ../../whatsnew/3.12.rst:1362
msgid "``imp.cache_from_source()``"
msgstr "``imp.cache_from_source()``"

#: ../../whatsnew/3.12.rst:1362
msgid ":func:`importlib.util.cache_from_source`"
msgstr ":func:`importlib.util.cache_from_source`"

#: ../../whatsnew/3.12.rst:1363
msgid "``imp.find_module()``"
msgstr "``imp.find_module()``"

#: ../../whatsnew/3.12.rst:1363
msgid ":func:`importlib.util.find_spec`"
msgstr ":func:`importlib.util.find_spec`"

#: ../../whatsnew/3.12.rst:1364
msgid "``imp.get_magic()``"
msgstr "``imp.get_magic()``"

#: ../../whatsnew/3.12.rst:1364
msgid ":attr:`importlib.util.MAGIC_NUMBER`"
msgstr ":attr:`importlib.util.MAGIC_NUMBER`"

#: ../../whatsnew/3.12.rst:1365
msgid "``imp.get_suffixes()``"
msgstr "``imp.get_suffixes()``"

#: ../../whatsnew/3.12.rst:1365
msgid ""
":attr:`importlib.machinery.SOURCE_SUFFIXES`, "
":attr:`importlib.machinery.EXTENSION_SUFFIXES`, and "
":attr:`importlib.machinery.BYTECODE_SUFFIXES`"
msgstr ""
":attr:`importlib.machinery.SOURCE_SUFFIXES`, "
":attr:`importlib.machinery.EXTENSION_SUFFIXES` 和 "
":attr:`importlib.machinery.BYTECODE_SUFFIXES`"

#: ../../whatsnew/3.12.rst:1366
msgid "``imp.get_tag()``"
msgstr "``imp.get_tag()``"

#: ../../whatsnew/3.12.rst:1366
msgid ":attr:`sys.implementation.cache_tag <sys.implementation>`"
msgstr ":attr:`sys.implementation.cache_tag <sys.implementation>`"

#: ../../whatsnew/3.12.rst:1367
msgid "``imp.load_module()``"
msgstr "``imp.load_module()``"

#: ../../whatsnew/3.12.rst:1367
msgid ":func:`importlib.import_module`"
msgstr ":func:`importlib.import_module`"

#: ../../whatsnew/3.12.rst:1368
msgid "``imp.new_module(name)``"
msgstr "``imp.new_module(name)``"

#: ../../whatsnew/3.12.rst:1368
msgid "``types.ModuleType(name)``"
msgstr "``types.ModuleType(name)``"

#: ../../whatsnew/3.12.rst:1369
msgid "``imp.reload()``"
msgstr "``imp.reload()``"

#: ../../whatsnew/3.12.rst:1369
msgid ":func:`importlib.reload`"
msgstr ":func:`importlib.reload`"

#: ../../whatsnew/3.12.rst:1370
msgid "``imp.source_from_cache()``"
msgstr "``imp.source_from_cache()``"

#: ../../whatsnew/3.12.rst:1370
msgid ":func:`importlib.util.source_from_cache`"
msgstr ":func:`importlib.util.source_from_cache`"

#: ../../whatsnew/3.12.rst:1373
msgid "Replace ``imp.load_source()`` with::"
msgstr "将 ``imp.load_source()`` 替换为::"

#: ../../whatsnew/3.12.rst:1388
msgid "Removed :mod:`!imp` functions and attributes with no replacements:"
msgstr "已移除 :mod:`!imp` 函数和属性并且没有替选项:"

#: ../../whatsnew/3.12.rst:1390
msgid "undocumented functions:"
msgstr "未写入文档的函数:"

#: ../../whatsnew/3.12.rst:1392
msgid "``imp.init_builtin()``"
msgstr "``imp.init_builtin()``"

#: ../../whatsnew/3.12.rst:1393
msgid "``imp.load_compiled()``"
msgstr "``imp.load_compiled()``"

#: ../../whatsnew/3.12.rst:1394
msgid "``imp.load_dynamic()``"
msgstr "``imp.load_dynamic()``"

#: ../../whatsnew/3.12.rst:1395
msgid "``imp.load_package()``"
msgstr "``imp.load_package()``"

#: ../../whatsnew/3.12.rst:1397
msgid ""
"``imp.lock_held()``, ``imp.acquire_lock()``, ``imp.release_lock()``: the "
"locking scheme has changed in Python 3.3 to per-module locks."
msgstr ""
"``imp.lock_held()``,``imp.acquire_lock()``,``imp.release_lock()``: 加锁方案在 "
"Python 3.3 中已改为模块级锁。"

#: ../../whatsnew/3.12.rst:1399
msgid ""
"``imp.find_module()`` constants: ``SEARCH_ERROR``, ``PY_SOURCE``, "
"``PY_COMPILED``, ``C_EXTENSION``, ``PY_RESOURCE``, ``PKG_DIRECTORY``, "
"``C_BUILTIN``, ``PY_FROZEN``, ``PY_CODERESOURCE``, ``IMP_HOOK``."
msgstr ""
"``imp.find_module()`` 常量: ``SEARCH_ERROR``, ``PY_SOURCE``, ``PY_COMPILED``, "
"``C_EXTENSION``, ``PY_RESOURCE``, ``PKG_DIRECTORY``, ``C_BUILTIN``, "
"``PY_FROZEN``, ``PY_CODERESOURCE``, ``IMP_HOOK``。"

#: ../../whatsnew/3.12.rst:1403
msgid ""
":mod:`io`: Remove ``io.OpenWrapper`` and ``_pyio.OpenWrapper``, deprecated "
"in Python 3.10: just use :func:`open` instead. The :func:`open` "
"(:func:`io.open`) function is a built-in function. Since Python 3.10, "
":func:`!_pyio.open` is also a static method. (Contributed by Victor Stinner "
"in :gh:`94169`.)"
msgstr ""
":mod:`io`: 移除 ``io.OpenWrapper`` 和 ``_pyio.OpenWrapper``，它们在 Python 3.10 "
"中已被弃用：请直接改用 :func:`open`。 :func:`open` (:func:`io.open`) 函数是一个内置函数。 自 Python"
" 3.10 起，:func:`!_pyio.open` 也是一个静态方法。 （由 Victor Stinner 在 :gh:`94169` 中贡献。）"

#: ../../whatsnew/3.12.rst:1409
msgid ""
":mod:`locale`: Remove the :func:`!locale.format` function, deprecated in "
"Python 3.7: use :func:`locale.format_string` instead. (Contributed by Victor"
" Stinner in :gh:`94226`.)"
msgstr ""
":mod:`locale`: 移除了 :func:`!locale.format` 函数，它在 Python 3.7 中已被弃用：请改用 "
":func:`locale.format_string`。 （由 Victor Stinner 在 :gh:`94226` 中贡献。）"

#: ../../whatsnew/3.12.rst:1413
msgid ""
"``smtpd``: The module has been removed according to the schedule in "
":pep:`594`, having been deprecated in Python 3.4.7 and 3.5.4. Use aiosmtpd_ "
"PyPI module or any other :mod:`asyncio`-based server instead. (Contributed "
"by Oleg Iarygin in :gh:`93243`.)"
msgstr ""
"``smtpd``: 该模块已按照 :pep:`594` 中的计划表被移除，它在 Python 3.4.7 和 3.5.4 中已被弃用。 请改用 "
"aiosmtpd_ PyPI 模块或任何其他基于 :mod:`asyncio` Oleg Iarygin 在 :gh:`93243` 中贡献。）"

#: ../../whatsnew/3.12.rst:1421
msgid ""
":mod:`sqlite3`: The following undocumented :mod:`sqlite3` features, "
"deprecated in Python 3.10, are now removed:"
msgstr ""
":mod:`sqlite3`: 以下未写入文档的 :mod:`sqlite3` 特性，在 Python 3.10 中已被弃用，现在已被移除:"

#: ../../whatsnew/3.12.rst:1424
msgid "``sqlite3.enable_shared_cache()``"
msgstr "``sqlite3.enable_shared_cache()``"

#: ../../whatsnew/3.12.rst:1425
msgid "``sqlite3.OptimizedUnicode``"
msgstr "``sqlite3.OptimizedUnicode``"

#: ../../whatsnew/3.12.rst:1427
msgid ""
"If a shared cache must be used, open the database in URI mode using the "
"``cache=shared`` query parameter."
msgstr "如果必须使用共享缓存，请在以 URI 模式打开数据库时使用 ``cache=shared`` 查询参数。"

#: ../../whatsnew/3.12.rst:1430
msgid ""
"The ``sqlite3.OptimizedUnicode`` text factory has been an alias for "
":class:`str` since Python 3.3. Code that previously set the text factory to "
"``OptimizedUnicode`` can either use ``str`` explicitly, or rely on the "
"default value which is also ``str``."
msgstr ""
"``sqlite3.OptimizedUnicode`` 文本工厂函数自 Python 3.3 起已成为 :class:`str` 的一个别名。 "
"之前将文本工厂设为 ``OptimizedUnicode`` 的代码可以显式地使用 ``str``，或者依赖同样为 ``str`` 的默认值。"

#: ../../whatsnew/3.12.rst:1435
msgid "(Contributed by Erlend E. Aasland in :gh:`92548`.)"
msgstr "（由 Erlend E. Aasland 在 :gh:`92548` 中贡献。）"

#: ../../whatsnew/3.12.rst:1437
msgid ":mod:`ssl`:"
msgstr ":mod:`ssl`:"

#: ../../whatsnew/3.12.rst:1439
msgid ""
"Remove the :func:`!ssl.RAND_pseudo_bytes` function, deprecated in Python "
"3.6: use :func:`os.urandom` or :func:`ssl.RAND_bytes` instead. (Contributed "
"by Victor Stinner in :gh:`94199`.)"
msgstr ""
"移除了 :func:`!ssl.RAND_pseudo_bytes` 函数，它在 Python 3.6 中已被弃用：请改用 "
":func:`os.urandom` 或 :func:`ssl.RAND_bytes`。 （由 Victor Stinner 在 :gh:`94199`"
" 中贡献。）"

#: ../../whatsnew/3.12.rst:1443
msgid ""
"Remove the :func:`!ssl.match_hostname` function. It was deprecated in Python"
" 3.7. OpenSSL performs hostname matching since Python 3.7, Python no longer "
"uses the :func:`!ssl.match_hostname` function. (Contributed by Victor "
"Stinner in :gh:`94199`.)"
msgstr ""
"移除了 :func:`!ssl.match_hostname` 函数。 它在 Python 3.7 中已被弃用。 OpenSSL 自 Python "
"3.7 起将会执行主机名匹配，Python 已不再使用 :func:`!ssl.match_hostname` 函数。 （由 Victor "
"Stinner 在 :gh:`94199` 中贡献。）"

#: ../../whatsnew/3.12.rst:1449
msgid ""
"Remove the :func:`!ssl.wrap_socket` function, deprecated in Python 3.7: "
"instead, create a :class:`ssl.SSLContext` object and call its "
":class:`ssl.SSLContext.wrap_socket` method. Any package that still uses "
":func:`!ssl.wrap_socket` is broken and insecure. The function neither sends "
"a SNI TLS extension nor validates server hostname. Code is subject to "
"`CWE-295 <https://cwe.mitre.org/data/definitions/295.html>`_: Improper "
"Certificate Validation. (Contributed by Victor Stinner in :gh:`94199`.)"
msgstr ""
"移除了 :func:`!ssl.wrap_socket` 函数，它在 Python 3.7 中已被弃用：请改为创建一个 "
":class:`ssl.SSLContext` 对象并调用其 :class:`ssl.SSLContext.wrap_socket` 方法。 "
"任何仍然使用 :func:`!ssl.wrap_socket` 的包都不再适用并且是不安全的。 该函数既不会发送 SNI TLS "
"扩展也不会验证服务器主机名。 其代码会受到 `CWE-295 "
"<https://cwe.mitre.org/data/definitions/295.html>`_: 不正确的证书验证问题的影响。 （由 "
"Victor Stinner 在 :gh:`94199` 中贡献。）"

#: ../../whatsnew/3.12.rst:1458
msgid ":mod:`unittest`: Removed many old deprecated :mod:`unittest` features:"
msgstr ":mod:`unittest`: 移除了许多早已弃用的 :mod:`unittest` 特性:"

#: ../../whatsnew/3.12.rst:1460
msgid "A number of :class:`~unittest.TestCase` method aliases:"
msgstr "一些 :class:`~unittest.TestCase` 方法的别名:"

#: ../../whatsnew/3.12.rst:1463
msgid "Deprecated alias"
msgstr "已弃用的别名"

#: ../../whatsnew/3.12.rst:1463
msgid "Method Name"
msgstr "方法名"

#: ../../whatsnew/3.12.rst:1463
msgid "Deprecated in"
msgstr "弃用于"

#: ../../whatsnew/3.12.rst:1465
msgid "``failUnless``"
msgstr "``failUnless``"

#: ../../whatsnew/3.12.rst:1465 ../../whatsnew/3.12.rst:1472
msgid ":meth:`.assertTrue`"
msgstr ":meth:`.assertTrue`"

#: ../../whatsnew/3.12.rst:1465 ../../whatsnew/3.12.rst:1466
#: ../../whatsnew/3.12.rst:1467 ../../whatsnew/3.12.rst:1468
#: ../../whatsnew/3.12.rst:1469 ../../whatsnew/3.12.rst:1470
#: ../../whatsnew/3.12.rst:1471
msgid "3.1"
msgstr "3.1"

#: ../../whatsnew/3.12.rst:1466
msgid "``failIf``"
msgstr "``failIf``"

#: ../../whatsnew/3.12.rst:1466
msgid ":meth:`.assertFalse`"
msgstr ":meth:`.assertFalse`"

#: ../../whatsnew/3.12.rst:1467
msgid "``failUnlessEqual``"
msgstr "``failUnlessEqual``"

#: ../../whatsnew/3.12.rst:1467 ../../whatsnew/3.12.rst:1473
msgid ":meth:`.assertEqual`"
msgstr ":meth:`.assertEqual`"

#: ../../whatsnew/3.12.rst:1468
msgid "``failIfEqual``"
msgstr "``failIfEqual``"

#: ../../whatsnew/3.12.rst:1468 ../../whatsnew/3.12.rst:1474
msgid ":meth:`.assertNotEqual`"
msgstr ":meth:`.assertNotEqual`"

#: ../../whatsnew/3.12.rst:1469
msgid "``failUnlessAlmostEqual``"
msgstr "``failUnlessAlmostEqual``"

#: ../../whatsnew/3.12.rst:1469 ../../whatsnew/3.12.rst:1475
msgid ":meth:`.assertAlmostEqual`"
msgstr ":meth:`.assertAlmostEqual`"

#: ../../whatsnew/3.12.rst:1470
msgid "``failIfAlmostEqual``"
msgstr "``failIfAlmostEqual``"

#: ../../whatsnew/3.12.rst:1470 ../../whatsnew/3.12.rst:1476
msgid ":meth:`.assertNotAlmostEqual`"
msgstr ":meth:`.assertNotAlmostEqual`"

#: ../../whatsnew/3.12.rst:1471
msgid "``failUnlessRaises``"
msgstr "``failUnlessRaises``"

#: ../../whatsnew/3.12.rst:1471
msgid ":meth:`.assertRaises`"
msgstr ":meth:`.assertRaises`"

#: ../../whatsnew/3.12.rst:1472
msgid "``assert_``"
msgstr "``assert_``"

#: ../../whatsnew/3.12.rst:1472 ../../whatsnew/3.12.rst:1473
#: ../../whatsnew/3.12.rst:1474 ../../whatsnew/3.12.rst:1475
#: ../../whatsnew/3.12.rst:1476 ../../whatsnew/3.12.rst:1477
#: ../../whatsnew/3.12.rst:1478
msgid "3.2"
msgstr "3.2"

#: ../../whatsnew/3.12.rst:1473
msgid "``assertEquals``"
msgstr "``assertEquals``"

#: ../../whatsnew/3.12.rst:1474
msgid "``assertNotEquals``"
msgstr "``assertNotEquals``"

#: ../../whatsnew/3.12.rst:1475
msgid "``assertAlmostEquals``"
msgstr "``assertAlmostEquals``"

#: ../../whatsnew/3.12.rst:1476
msgid "``assertNotAlmostEquals``"
msgstr "``assertNotAlmostEquals``"

#: ../../whatsnew/3.12.rst:1477
msgid "``assertRegexpMatches``"
msgstr "``assertRegexpMatches``"

#: ../../whatsnew/3.12.rst:1477
msgid ":meth:`.assertRegex`"
msgstr ":meth:`.assertRegex`"

#: ../../whatsnew/3.12.rst:1478
msgid "``assertRaisesRegexp``"
msgstr "``assertRaisesRegexp``"

#: ../../whatsnew/3.12.rst:1478
msgid ":meth:`.assertRaisesRegex`"
msgstr ":meth:`.assertRaisesRegex`"

#: ../../whatsnew/3.12.rst:1479
msgid "``assertNotRegexpMatches``"
msgstr "``assertNotRegexpMatches``"

#: ../../whatsnew/3.12.rst:1479
msgid ":meth:`.assertNotRegex`"
msgstr ":meth:`.assertNotRegex`"

#: ../../whatsnew/3.12.rst:1479
msgid "3.5"
msgstr "3.5"

#: ../../whatsnew/3.12.rst:1482
msgid ""
"You can use https://github.com/isidentical/teyit to automatically modernise "
"your unit tests."
msgstr "您可以使用 https://github.com/isidentical/teyit 来自动更新你的单元测试。"

#: ../../whatsnew/3.12.rst:1485
msgid ""
"Undocumented and broken :class:`~unittest.TestCase` method "
"``assertDictContainsSubset`` (deprecated in Python 3.2)."
msgstr ""
"未写入文档且已不可用的 :class:`~unittest.TestCase` 方法 ``assertDictContainsSubset``。 （在 "
"Python 3.2 中已弃用。）"

#: ../../whatsnew/3.12.rst:1488
msgid ""
"Undocumented :meth:`TestLoader.loadTestsFromModule "
"<unittest.TestLoader.loadTestsFromModule>` parameter *use_load_tests* "
"(deprecated and ignored since Python 3.2)."
msgstr ""
"未写入文档的 :meth:`TestLoader.loadTestsFromModule "
"<unittest.TestLoader.loadTestsFromModule>` 形参 *use_load_tests*。 （自 Python "
"3.2 起已弃用并被忽略。）"

#: ../../whatsnew/3.12.rst:1492
msgid ""
"An alias of the :class:`~unittest.TextTestResult` class: ``_TextTestResult``"
" (deprecated in Python 3.2)."
msgstr ""
":class:`~unittest.TextTestResult` 类的一个别名: ``_TextTestResult``。 （在 Python 3.2"
" 中已弃用。）"

#: ../../whatsnew/3.12.rst:1495
msgid "(Contributed by Serhiy Storchaka in :issue:`45162`.)"
msgstr "（由 Serhiy Storchaka 在 :issue:`45162` 中贡献。）"

#: ../../whatsnew/3.12.rst:1497
msgid ""
":mod:`webbrowser`: Remove support for obsolete browsers from "
":mod:`webbrowser`. Removed browsers include: Grail, Mosaic, Netscape, "
"Galeon, Skipstone, Iceape, Firebird, and Firefox versions 35 and below "
"(:gh:`102871`)."
msgstr ""
":mod:`webbrowser`: 从 :mod:`webbrowser` 中移除了对过时浏览器的支持。 被移除的浏览器包括: Grail, "
"Mosaic, Netscape, Galeon, Skipstone, Iceape, Firebird 和 Firefox 35 及以下的版本 "
"(:gh:`102871`)。"

#: ../../whatsnew/3.12.rst:1501
msgid ""
":mod:`xml.etree.ElementTree`: Remove the ``ElementTree.Element.copy()`` "
"method of the pure Python implementation, deprecated in Python 3.10, use the"
" :func:`copy.copy` function instead.  The C implementation of "
":mod:`xml.etree.ElementTree` has no ``copy()`` method, only a ``__copy__()``"
" method. (Contributed by Victor Stinner in :gh:`94383`.)"
msgstr ""
":mod:`xml.etree.ElementTree`: 移除了纯 Python 实现的 ``ElementTree.Element.copy()``"
" 方法，该方法在 Python 3.10 中已被弃用，请改用 :func:`copy.copy` 函数。 "
":mod:`xml.etree.ElementTree` 的 C 实现没有 ``copy()`` 方法，只有 ``__copy__()`` 方法。 （由"
" Victor Stinner 在 :gh:`94383` 中贡献。）"

#: ../../whatsnew/3.12.rst:1507
msgid ""
":mod:`zipimport`: Remove ``find_loader()`` and ``find_module()`` methods, "
"deprecated in Python 3.10: use the ``find_spec()`` method instead.  See "
":pep:`451` for the rationale. (Contributed by Victor Stinner in "
":gh:`94379`.)"
msgstr ""
":mod:`zipimport`: 移除了在 Python 3.10 中已被弃用的 ``find_loader()`` "
"和``find_module()`` 方法：请改用 ``find_spec()`` 方法。 请参阅 :pep:`451` 了解相关说明。 （由 "
"Victor Stinner 在 :gh:`94379` 中贡献。）"

#: ../../whatsnew/3.12.rst:1512
msgid ""
"Removed the ``suspicious`` rule from the documentation Makefile, and removed"
" ``Doc/tools/rstlint.py``, both in favor of `sphinx-lint "
"<https://github.com/sphinx-contrib/sphinx-lint>`_. (Contributed by Julien "
"Palard in :gh:`98179`.)"
msgstr ""
"从文档 Makefile 中移除了 ``suspicious`` 规则，并移除了 ``Doc/tools/rstlint.py``，请改用 "
"`sphinx-lint <https://github.com/sphinx-contrib/sphinx-lint>`_。 （由 Julien "
"Palard 在 :gh:`98179` 中贡献。）"

#: ../../whatsnew/3.12.rst:1517
msgid ""
"Remove the *keyfile* and *certfile* parameters from the :mod:`ftplib`, "
":mod:`imaplib`, :mod:`poplib` and :mod:`smtplib` modules, and the "
"*key_file*, *cert_file* and *check_hostname* parameters from the "
":mod:`http.client` module, all deprecated since Python 3.6. Use the "
"*context* parameter (*ssl_context* in :mod:`imaplib`) instead. (Contributed "
"by Victor Stinner in :gh:`94172`.)"
msgstr ""
"移除了 :mod:`ftplib`、:mod:`imaplib`、:mod:`poplib` 和 :mod:`smtplib` 模块中的 "
"*keyfile* 和 *certfile* 形参数，以及 :mod:`http.client` 模块中的 *key_file*、*cert_file*"
" 和 *check_hostname* 形参，它们自 Python 3.6 起都已被弃用。 请改用 *context* 形参（在 "
":mod:`imaplib` 中为 *ssl_context* 形参）。 （由 Victor Stinner 在 :gh:`94172` 中贡献。）.)"

#: ../../whatsnew/3.12.rst:1528 ../../whatsnew/3.12.rst:1840
msgid "Porting to Python 3.12"
msgstr "移植到 Python 3.12"

#: ../../whatsnew/3.12.rst:1530
msgid ""
"This section lists previously described changes and other bugfixes that may "
"require changes to your code."
msgstr "本节列出了先前描述的更改以及可能需要更改代码的其他错误修正."

#: ../../whatsnew/3.12.rst:1534
msgid "Changes in the Python API"
msgstr "Python API 的变化"

#: ../../whatsnew/3.12.rst:1536
msgid ""
"More strict rules are now applied for numerical group references and group "
"names in regular expressions. Only sequence of ASCII digits is now accepted "
"as a numerical reference. The group name in bytes patterns and replacement "
"strings can now only contain ASCII letters and digits and underscore. "
"(Contributed by Serhiy Storchaka in :gh:`91760`.)"
msgstr ""
"现在对于正则表达式中的数字分组引用和分组名称将应用更严格的规则。 现在只接受 ASCII 数字序列作为数字引用。 "
"字节串模式和替换字符串中的分组名称现在只能包含 ASCII 字母、数字和下划线。 （由 Serhiy Storchaka 在 :gh:`91760` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:1543
msgid ""
"Removed ``randrange()`` functionality deprecated since Python 3.10.  "
"Formerly, ``randrange(10.0)`` losslessly converted to ``randrange(10)``. "
"Now, it raises a :exc:`TypeError`. Also, the exception raised for non-"
"integer values such as ``randrange(10.5)`` or ``randrange('10')`` has been "
"changed from :exc:`ValueError` to :exc:`TypeError`.  This also prevents bugs"
" where ``randrange(1e25)`` would silently select from a larger range than "
"``randrange(10**25)``. (Originally suggested by Serhiy Storchaka "
":gh:`86388`.)"
msgstr ""
"移除了自 Python 3.10 起已被弃用的 ``randrange()`` 功能。 以前，``randrange(10.0)`` 会无损地转换为 "
"``randrange(10)``。 现在，它将引发 :exc:`TypeError`。 此外，对于非整数值如 ``randrange(10.5)`` "
"或 ``randrange('10')`` 所引发的异常已从 :exc:`ValueError` 改为 :exc:`TypeError`。 这也防止了 "
"``randrange(1e25)`` 会从比 ``randrange(10**25)`` 更大的范围中静默选择的问题。 （最初由 Serhiy "
"Storchaka 在 :gh:`86388` 中提议。）"

#: ../../whatsnew/3.12.rst:1551
msgid ""
":class:`argparse.ArgumentParser` changed encoding and error handler for "
"reading arguments from file (e.g. ``fromfile_prefix_chars`` option) from "
"default text encoding (e.g. :func:`locale.getpreferredencoding(False) "
"<locale.getpreferredencoding>`) to :term:`filesystem encoding and error "
"handler`. Argument files should be encoded in UTF-8 instead of ANSI Codepage"
" on Windows."
msgstr ""
":class:`argparse.ArgumentParser` 将从文件（例如 ``fromfile_prefix_chars`` "
"选项）读取参数的编码格式和错误处理句柄从默认的文本编码格式（例如 :func:`locale.getpreferredencoding(False) "
"<locale.getpreferredencoding>` 调用）改为 :term:`filesystem encoding and error "
"handler`。 在 Windows 系统中参数文件应使用 UTF-8 而不是 ANSI 代码页来编码。"

#: ../../whatsnew/3.12.rst:1557
msgid ""
"Removed the ``asyncore``-based ``smtpd`` module deprecated in Python 3.4.7 "
"and 3.5.4.  A recommended replacement is the :mod:`asyncio`-based aiosmtpd_ "
"PyPI module."
msgstr ""
"删除了在 Python 3.4.7 和 3.5.4 中已被弃用的 ``asyncore``-based ``smtpd`` 模块。 推荐使用基于 "
":mod:`asyncio` 的 aiosmtpd_ PyPI 模块来替代。"

#: ../../whatsnew/3.12.rst:1561
msgid ""
":func:`shlex.split`: Passing ``None`` for *s* argument now raises an "
"exception, rather than reading :data:`sys.stdin`. The feature was deprecated"
" in Python 3.9. (Contributed by Victor Stinner in :gh:`94352`.)"
msgstr ""
":func:`shlex.split`: 传入 ``None`` 作为 *s* 参数现在将引发异常，而不是读取 :data:`sys.stdin`。 "
"该特性在 Python 3.9 中已被弃用。 （由 Victor Stinner 在 :gh:`94352` 中贡献。）"

#: ../../whatsnew/3.12.rst:1566
msgid ""
"The :mod:`os` module no longer accepts bytes-like paths, like "
":class:`bytearray` and :class:`memoryview` types: only the exact "
":class:`bytes` type is accepted for bytes strings. (Contributed by Victor "
"Stinner in :gh:`98393`.)"
msgstr ""
":mod:`os` 模块不再接受类似字节串的路径，如 :class:`bytearray` 和 :class:`memoryview` "
"类型：只接受明确的 :class:`bytes` 类型字节串。 （由 Victor Stinner 在 :gh:`98393` 中贡献。）"

#: ../../whatsnew/3.12.rst:1571
msgid ""
":func:`syslog.openlog` and :func:`syslog.closelog` now fail if used in "
"subinterpreters. :func:`syslog.syslog` may still be used in subinterpreters,"
" but now only if :func:`syslog.openlog` has already been called in the main "
"interpreter. These new restrictions do not apply to the main interpreter, so"
" only a very small set of users might be affected. This change helps with "
"interpreter isolation.  Furthermore, :mod:`syslog` is a wrapper around "
"process-global resources, which are best managed from the main interpreter. "
"(Contributed by Dong-hee Na in :gh:`99127`.)"
msgstr ""
"现在 :func:`syslog.openlog` 和 :func:`syslog.closelog` 如果在子解释器中使用将失败。 "
":func:`syslog.syslog` 仍可在子解释器中使用，但前提是 :func:`syslog.openlog` 已在主解释器中被调用。 "
"这些新限制不适用于主解释器，因此只有少数用户可能会受到影响。 这一改变有助于实现解释器隔离。  此外， :mod:`syslog` "
"是一个针对进程全局资源的包装器，而这些资源最好是通过主解释器来管理。 （由 Dong-hee Na 在 :gh:`99127` 中贡献。）"

#: ../../whatsnew/3.12.rst:1580
msgid ""
"The undocumented locking behavior of :func:`~functools.cached_property` is "
"removed, because it locked across all instances of the class, leading to "
"high lock contention. This means that a cached property getter function "
"could now run more than once for a single instance, if two threads race. For"
" most simple cached properties (e.g. those that are idempotent and simply "
"calculate a value based on other attributes of the instance) this will be "
"fine.  If synchronization is needed, implement locking within the cached "
"property getter function or around multi-threaded access points."
msgstr ""
"未写入文档的 :func:`~functools.cached_property` "
"的锁定行为已被移除，因为该行为会在类的所有实例中锁定，从而导致高锁定争用。 "
"这意味着如果两个线程同时运行，缓存属性获取函数现在可以在单个实例中运行不止一次。 "
"对于大多数简单的缓存属性（例如那些幂等的并且只需根据实例的其他属性计算一个值的属性）来说这是没有问题的。 "
"如果需要同步，可在缓存属性获取函数中或多线程访问点周围实现锁定操作。"

#: ../../whatsnew/3.12.rst:1593
msgid ""
"When extracting tar files using :mod:`tarfile` or "
":func:`shutil.unpack_archive`, pass the *filter* argument to limit features "
"that may be surprising or dangerous. See :ref:`tarfile-extraction-filter` "
"for details."
msgstr ""
"当使用 :mod:`tarfile` 或 :func:`shutil.unpack_archive` 提取 tar 文件时，请传入 *filter* "
"参数来限制可能令人感到意外或危险的特性。 请参阅 :ref:`tarfile-extraction-filter` 了解详情。"

#: ../../whatsnew/3.12.rst:1598
msgid ""
"The output of the :func:`tokenize.tokenize` and "
":func:`tokenize.generate_tokens` functions is now changed due to the changes"
" introduced in :pep:`701`. This means that ``STRING`` tokens are not emitted"
" any more for f-strings and the tokens described in :pep:`701` are now "
"produced instead: ``FSTRING_START``, ``FSRING_MIDDLE`` and ``FSTRING_END`` "
"are now emitted for f-string \"string\" parts in addition to the appropriate"
" tokens for the tokenization in the expression components. For example for "
"the f-string ``f\"start {1+1} end\"`` the old version of the tokenizer "
"emitted::"
msgstr ""
"由于在 :pep:`701` 中引入的更改 :func:`tokenize.tokenize` 和 "
":func:`tokenize.generate_tokens` 函数的输出现在发生了改变。 这意味着不再为f-字符串输出 ``STRING`` "
"词元而是改为产生 :pep:`701` 中描述的词元: "
"``FSTRING_START``，除了适用于在表达式部分中进行分词的词元以外，``FSRING_MIDDLE`` 和 ``FSTRING_END`` "
"现在也会被用于f-字符串的“字符串”部分。 例如对于f-字符串 ``f\"start {1+1} end\"`` 旧版本的分词会生成::"

#: ../../whatsnew/3.12.rst:1609
msgid "while the new version emits::"
msgstr "而新版本将生成::"

#: ../../whatsnew/3.12.rst:1621
msgid ""
"Additionally, there may be some minor behavioral changes as a consequence of"
" the changes required to support :pep:`701`. Some of these changes include:"
msgstr "此外，支持 :pep:`701` 所需的改变还可能会导致一些细微的行为改变。 这些变化包括:"

#: ../../whatsnew/3.12.rst:1624
msgid ""
"The ``type`` attribute of the tokens emitted when tokenizing some invalid "
"Python characters such as ``!`` has changed from ``ERRORTOKEN`` to ``OP``."
msgstr ""
"在对一些无效 Python 字符如 ``!`` 进行分词时相应词元的 ``type`` 属性已从 ``ERRORTOKEN`` 变为 ``OP``。"

#: ../../whatsnew/3.12.rst:1627
msgid ""
"Incomplete single-line strings now also raise :exc:`tokenize.TokenError` as "
"incomplete multiline strings do."
msgstr "不完整的单行字符串现在也会像不完整的多行字符串一样引发 :exc:`tokenize.TokenError`。"

#: ../../whatsnew/3.12.rst:1630
msgid ""
"Some incomplete or invalid Python code now raises :exc:`tokenize.TokenError`"
" instead of returning arbitrary ``ERRORTOKEN`` tokens when tokenizing it."
msgstr ""
"某些不完整或无效的 Python 代码现在会引发 :exc:`tokenize.TokenError` 而不是在执行分词时返回任意的 "
"``ERRORTOKEN`` 词元。"

#: ../../whatsnew/3.12.rst:1633
msgid ""
"Mixing tabs and spaces as indentation in the same file is not supported "
"anymore and will raise a :exc:`TabError`."
msgstr "在同一文件中混合使用制表符和空格作为缩进不再受到支持而是会引发 :exc:`TabError`。"

#: ../../whatsnew/3.12.rst:1637
msgid "Build Changes"
msgstr "构建变化"

#: ../../whatsnew/3.12.rst:1639
msgid ""
"Python no longer uses ``setup.py`` to build shared C extension modules. "
"Build parameters like headers and libraries are detected in ``configure`` "
"script. Extensions are built by ``Makefile``. Most extensions use ``pkg-"
"config`` and fall back to manual detection. (Contributed by Christian Heimes"
" in :gh:`93939`.)"
msgstr ""
"Python 不再使用 ``setup.py`` 来构建共享的 C 扩展模块。 头文件和库等编译参数会在 ``configure`` 脚本中检测。 "
"扩展将由 ``Makefile`` 来构建。 大多数扩展使用 ``pkg-config`` 并回退为手动检测。 （由 Christian Heimes "
"在 :gh:`93939` 中贡献。）"

#: ../../whatsnew/3.12.rst:1645
msgid ""
"``va_start()`` with two parameters, like ``va_start(args, format),`` is now "
"required to build Python. ``va_start()`` is no longer called with a single "
"parameter. (Contributed by Kumar Aditya in :gh:`93207`.)"
msgstr ""
"现在需要用带有两个形参的 ``va_start()``，如 ``va_start(args, format),`` 来构建 Python。 "
"现在将不会再调用单个形参的 ``va_start()``。 （由 Kumar Aditya 在 :gh:`93207` 中贡献。）"

#: ../../whatsnew/3.12.rst:1650
msgid ""
"CPython now uses the ThinLTO option as the default link time optimization "
"policy if the Clang compiler accepts the flag. (Contributed by Dong-hee Na "
"in :gh:`89536`.)"
msgstr ""
"现在如果 Clang 编译器接受 ThinLTO 选项则 CPython 会将其作为默认的链接时间优化策略。 （由 Dong-hee Na 在 "
":gh:`89536` 中贡献。）"

#: ../../whatsnew/3.12.rst:1654
msgid ""
"Add ``COMPILEALL_OPTS`` variable in Makefile to override :mod:`compileall` "
"options (default: ``-j0``) in ``make install``. Also merged the 3 "
"``compileall`` commands into a single command to build .pyc files for all "
"optimization levels (0, 1, 2) at once. (Contributed by Victor Stinner in "
":gh:`99289`.)"
msgstr ""
"在 Makefile 中添加了 ``COMPILEALL_OPTS`` 变量以覆盖 ``make install`` 中的 "
":mod:`compileall` 选项 (默认值: ``-j0``)。 并将 3 条 ``compileall`` "
"命令合并为单条命令以便一次性构建所有优化级别 (0, 1, 2) 的 .pyc 文件。 （由 Victor Stinner 在 :gh:`99289` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:1660
msgid "Add platform triplets for 64-bit LoongArch:"
msgstr "为 64 位 LoongArch 添加了平台三选项:"

#: ../../whatsnew/3.12.rst:1662
msgid "loongarch64-linux-gnusf"
msgstr "loongarch64-linux-gnusf"

#: ../../whatsnew/3.12.rst:1663
msgid "loongarch64-linux-gnuf32"
msgstr "loongarch64-linux-gnuf32"

#: ../../whatsnew/3.12.rst:1664
msgid "loongarch64-linux-gnu"
msgstr "loongarch64-linux-gnu"

#: ../../whatsnew/3.12.rst:1666
msgid "(Contributed by Zhang Na in :gh:`90656`.)"
msgstr "（由 Zhang Na 在 :gh:`90656` 中贡献。）.)"

#: ../../whatsnew/3.12.rst:1668
msgid "``PYTHON_FOR_REGEN`` now require Python 3.10 or newer."
msgstr "``PYTHON_FOR_REGEN`` 现在需要 Python 3.10 或更新版本。"

#: ../../whatsnew/3.12.rst:1670
msgid ""
"Autoconf 2.71 and aclocal 1.16.4 is now required to regenerate "
":file:`!configure`. (Contributed by Christian Heimes in :gh:`89886`.)"
msgstr ""
"现在需要有 autoconf 2.71 和 aclocal 1.16.4 才能重新生成 :file:`!configure`。 （由 Christian"
" Heimes 在 :gh:`89886` 中贡献。）"

#: ../../whatsnew/3.12.rst:1674
msgid ""
"Windows builds and macOS installers from python.org now use OpenSSL 3.0."
msgstr "来自 python.org 的 Windows 版本和 macOS 安装程序现在使用 OpenSSL 3.0。"

#: ../../whatsnew/3.12.rst:1678
msgid "C API Changes"
msgstr "C API 的变化"

#: ../../whatsnew/3.12.rst:1684
msgid ""
":pep:`697`: Introduced the :ref:`Unstable C API tier <unstable-c-api>`, "
"intended for low-level tools like debuggers and JIT compilers. This API may "
"change in each minor release of CPython without deprecation warnings. Its "
"contents are marked by the ``PyUnstable_`` prefix in names."
msgstr ""
":pep:`697`: 引入了 :ref:`不稳定 C API 层 <unstable-c-api>`，用于调试器和 JIT 编译器等低层级工具。 该 "
"API 可能会在 CPython 的每个次要版本中发生变化而不发出弃用警告。 其内容在名称中会以 ``PyUnstable_`` 前缀标记。"

#: ../../whatsnew/3.12.rst:1690
msgid "Code object constructors:"
msgstr "代码对象构造器:"

#: ../../whatsnew/3.12.rst:1692
msgid "``PyUnstable_Code_New()`` (renamed from ``PyCode_New``)"
msgstr "``PyUnstable_Code_New()`` (由 ``PyCode_New`` 改名而来)"

#: ../../whatsnew/3.12.rst:1693
msgid ""
"``PyUnstable_Code_NewWithPosOnlyArgs()`` (renamed from "
"``PyCode_NewWithPosOnlyArgs``)"
msgstr ""
"``PyUnstable_Code_NewWithPosOnlyArgs()`` (由 ``PyCode_NewWithPosOnlyArgs`` "
"改名而来)"

#: ../../whatsnew/3.12.rst:1695
msgid "Extra storage for code objects (:pep:`523`):"
msgstr "代码对象的额外存储 (:pep:`523`):"

#: ../../whatsnew/3.12.rst:1697
msgid ""
"``PyUnstable_Eval_RequestCodeExtraIndex()`` (renamed from "
"``_PyEval_RequestCodeExtraIndex``)"
msgstr ""
"``PyUnstable_Eval_RequestCodeExtraIndex()`` (由 "
"``_PyEval_RequestCodeExtraIndex`` 改名而来)"

#: ../../whatsnew/3.12.rst:1698
msgid "``PyUnstable_Code_GetExtra()`` (renamed from ``_PyCode_GetExtra``)"
msgstr "``PyUnstable_Code_GetExtra()`` (由 ``_PyCode_GetExtra`` 改名而来)"

#: ../../whatsnew/3.12.rst:1699
msgid "``PyUnstable_Code_SetExtra()`` (renamed from ``_PyCode_SetExtra``)"
msgstr "``PyUnstable_Code_SetExtra()`` (由 ``_PyCode_SetExtra`` 改名而来)"

#: ../../whatsnew/3.12.rst:1701
msgid ""
"The original names will continue to be available until the respective API "
"changes."
msgstr "原有名称将继续可用直到对应的 API 发生改变。"

#: ../../whatsnew/3.12.rst:1704
msgid "(Contributed by Petr Viktorin in :gh:`101101`.)"
msgstr "（由 Petr Viktorin 在 :gh:`101101` 中贡献。）"

#: ../../whatsnew/3.12.rst:1706
msgid ""
":pep:`697`: Added API for extending types whose instance memory layout is "
"opaque:"
msgstr ":pep:`697`: 添加了用于扩展实例的内存布局不透明的 API:"

#: ../../whatsnew/3.12.rst:1709
msgid ""
":c:member:`PyType_Spec.basicsize` can be zero or negative to specify "
"inheriting or extending the base class size."
msgstr ":c:member:`PyType_Spec.basicsize` 可以为零或负数，用于以指定继承或扩展基类的大小。"

#: ../../whatsnew/3.12.rst:1711
msgid ""
":c:func:`PyObject_GetTypeData` and :c:func:`PyType_GetTypeDataSize` added to"
" allow access to subclass-specific instance data."
msgstr ""
"增加了 :c:func:`PyObject_GetTypeData` 和 :c:func:`PyType_GetTypeDataSize` "
"以允许访问特定子类的实例数据。"

#: ../../whatsnew/3.12.rst:1713
msgid ""
":c:macro:`Py_TPFLAGS_ITEMS_AT_END` and :c:func:`PyObject_GetItemData` added "
"to allow safely extending certain variable-sized types, including "
":c:var:`PyType_Type`."
msgstr ""
"添加了 :c:macro:`Py_TPFLAGS_ITEMS_AT_END` 和 :c:func:`PyObject_GetItemData` "
"以允许安全地扩展某些可变大小的类型，包括 :c:var:`PyType_Type`。"

#: ../../whatsnew/3.12.rst:1716
msgid ""
":c:macro:`Py_RELATIVE_OFFSET` added to allow defining :c:type:`members "
"<PyMemberDef>` in terms of a subclass-specific struct."
msgstr ""
"添加了 :c:macro:`Py_RELATIVE_OFFSET` 以允许用特定于子类的结构体来定义 :c:type:`成员 "
"<PyMemberDef>`。"

#: ../../whatsnew/3.12.rst:1719
msgid "(Contributed by Petr Viktorin in :gh:`103509`.)"
msgstr "（由 Petr Viktorin 在 :gh:`103509` 中贡献。）"

#: ../../whatsnew/3.12.rst:1721
msgid ""
"Added the new :ref:`limited C API <limited-c-api>` function "
":c:func:`PyType_FromMetaclass`, which generalizes the existing "
":c:func:`PyType_FromModuleAndSpec` using an additional metaclass argument. "
"(Contributed by Wenzel Jakob in :gh:`93012`.)"
msgstr ""
"添加了新的 :ref:`受限 C API <limited-c-api>` 函数 "
":c:func:`PyType_FromMetaclass`，它使用额外的 metaclass 参数对现有的 "
":c:func:`PyType_FromModuleAndSpec` 进行了泛化。 （由 Wenzel Jakob 在 :gh:`93012` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:1726
msgid ""
"API for creating objects that can be called using :ref:`the vectorcall "
"protocol <vectorcall>` was added to the :ref:`Limited API <stable>`:"
msgstr ""
"在 :ref:`受限 <stable>` 中添加了用于创建可使用 :ref:`vectorcall 协议 <vectorcall>` 来调用的对象的 "
"API:"

#: ../../whatsnew/3.12.rst:1730
msgid ":c:macro:`Py_TPFLAGS_HAVE_VECTORCALL`"
msgstr ":c:macro:`Py_TPFLAGS_HAVE_VECTORCALL`"

#: ../../whatsnew/3.12.rst:1731
msgid ":c:func:`PyVectorcall_NARGS`"
msgstr ":c:func:`PyVectorcall_NARGS`"

#: ../../whatsnew/3.12.rst:1732
msgid ":c:func:`PyVectorcall_Call`"
msgstr ":c:func:`PyVectorcall_Call`"

#: ../../whatsnew/3.12.rst:1733
msgid ":c:type:`vectorcallfunc`"
msgstr ":c:type:`vectorcallfunc`"

#: ../../whatsnew/3.12.rst:1735
msgid ""
"The :c:macro:`Py_TPFLAGS_HAVE_VECTORCALL` flag is now removed from a class "
"when the class's :py:meth:`~object.__call__` method is reassigned. This "
"makes vectorcall safe to use with mutable types (i.e. heap types without the"
" immutable flag, :c:macro:`Py_TPFLAGS_IMMUTABLETYPE`). Mutable types that do"
" not override :c:member:`~PyTypeObject.tp_call` now inherit the "
"``Py_TPFLAGS_HAVE_VECTORCALL`` flag. (Contributed by Petr Viktorin in "
":gh:`93274`.)"
msgstr ""
"现在当一个类的 :py:meth:`~object.__call__` 方法被重新赋值时，该类的 "
":c:macro:`Py_TPFLAGS_HAVE_VECTORCALL` 旗标将被移除。 这使得 vectorcall "
"可以安全地用于可变类型（即没有不可变旗标 :c:macro:`Py_TPFLAGS_IMMUTABLETYPE` 的堆类型）。 未重载 "
":c:member:`~PyTypeObject.tp_call` 的可变类型现在继承了 ``Py_TPFLAGS_HAVE_VECTORCALL`` "
"旗标。 （由 Petr Viktorin 在 :gh:`93274` 中贡献。）"

#: ../../whatsnew/3.12.rst:1743
msgid ""
"The :c:macro:`Py_TPFLAGS_MANAGED_DICT` and "
":c:macro:`Py_TPFLAGS_MANAGED_WEAKREF` flags have been added. This allows "
"extensions classes to support object ``__dict__`` and weakrefs with less "
"bookkeeping, using less memory and with faster access."
msgstr ""
"新增了 :c:macro:`Py_TPFLAGS_MANAGED_DICT` 和 "
":c:macro:`Py_TPFLAGS_MANAGED_WEAKREF` 旗标。 这将允许扩展类在支持对象 ``__dict__`` "
"和弱引用时减少记录消耗，占用更少内存并并加快访问速度。"

#: ../../whatsnew/3.12.rst:1748
msgid ""
"API for performing calls using :ref:`the vectorcall protocol <vectorcall>` "
"was added to the :ref:`Limited API <stable>`:"
msgstr ""
"在 :ref:`受限 API <stable>` 中添加了使用 :ref:`vectorcall 协议 <vectorcall>` 执行调用的 API:"

#: ../../whatsnew/3.12.rst:1752
msgid ":c:func:`PyObject_Vectorcall`"
msgstr ":c:func:`PyObject_Vectorcall`"

#: ../../whatsnew/3.12.rst:1753
msgid ":c:func:`PyObject_VectorcallMethod`"
msgstr ":c:func:`PyObject_VectorcallMethod`"

#: ../../whatsnew/3.12.rst:1754
msgid ":c:macro:`PY_VECTORCALL_ARGUMENTS_OFFSET`"
msgstr ":c:macro:`PY_VECTORCALL_ARGUMENTS_OFFSET`"

#: ../../whatsnew/3.12.rst:1756
msgid ""
"This means that both the incoming and outgoing ends of the vector call "
"protocol are now available in the :ref:`Limited API <stable>`. (Contributed "
"by Wenzel Jakob in :gh:`98586`.)"
msgstr ""
"这意味着 vectorcall 调用协议的传入端和传出端现在都可以在 :ref:`受限 API <stable>` 中使用。 （由 Wenzel "
"Jakob 在 :gh:`98586` 中贡献。）"

#: ../../whatsnew/3.12.rst:1760
msgid ""
"Added two new public functions, :c:func:`PyEval_SetProfileAllThreads` and "
":c:func:`PyEval_SetTraceAllThreads`, that allow to set tracing and profiling"
" functions in all running threads in addition to the calling one. "
"(Contributed by Pablo Galindo in :gh:`93503`.)"
msgstr ""
"添加了两个新的公共函数 :c:func:`PyEval_SetProfileAllThreads` 和 "
":c:func:`PyEval_SetTraceAllThreads`，允许在调用的同时在所有运行线程中设置追踪和性能分析函数。 （由 Pablo "
"Galindo 在 :gh:`93503` 贡献。）"

#: ../../whatsnew/3.12.rst:1766
msgid ""
"Added new function :c:func:`PyFunction_SetVectorcall` to the C API which "
"sets the vectorcall field of a given :c:type:`PyFunctionObject`. "
"(Contributed by Andrew Frost in :gh:`92257`.)"
msgstr ""
"为 C API 添加了新函数 :c:func:`PyFunction_SetVectorcall` 用于设置给定 "
":c:type:`PyFunctionObject` 的 vectorcall 字段。 （由 Andrew Frost 在 :gh:`92257` "
"中贡献。）"

#: ../../whatsnew/3.12.rst:1770
msgid ""
"The C API now permits registering callbacks via :c:func:`PyDict_AddWatcher`,"
" :c:func:`PyDict_Watch` and related APIs to be called whenever a dictionary "
"is modified. This is intended for use by optimizing interpreters, JIT "
"compilers, or debuggers. (Contributed by Carl Meyer in :gh:`91052`.)"
msgstr ""
"C API 现在允许通过 :c:func:`PyDict_AddWatcher`、:c:func:`PyDict_Watch` 和相关 API "
"注册回调，以便在字典被修改时调用。 这主要用于优化解释器、JIT 编译器或调试器。 （由 Carl Meyer 在 :gh:`91052` 中贡献。）"

#: ../../whatsnew/3.12.rst:1776
msgid ""
"Added :c:func:`PyType_AddWatcher` and :c:func:`PyType_Watch` API to register"
" callbacks to receive notification on changes to a type. (Contributed by "
"Carl Meyer in :gh:`91051`.)"
msgstr ""
"添加了 :c:func:`PyType_AddWatcher` 和 :c:func:`PyType_Watch` API "
"用于注册回调以接收类型变更通知。 （由 Carl Meyer 在 :gh:`91051` 中贡献。）"

#: ../../whatsnew/3.12.rst:1780
msgid ""
"Added :c:func:`PyCode_AddWatcher` and :c:func:`PyCode_ClearWatcher` APIs to "
"register callbacks to receive notification on creation and destruction of "
"code objects. (Contributed by Itamar Ostricher in :gh:`91054`.)"
msgstr ""
"添加了 :c:func:`PyCode_AddWatcher` 和 :c:func:`PyCode_ClearWatcher` API "
"用于注册回调以接收代码对象创建和销毁时的通知。 （由 Itamar Ostricher 在 :gh:`91054` 中贡献。）"

#: ../../whatsnew/3.12.rst:1785
msgid ""
"Add :c:func:`PyFrame_GetVar` and :c:func:`PyFrame_GetVarString` functions to"
" get a frame variable by its name. (Contributed by Victor Stinner in "
":gh:`91248`.)"
msgstr ""
"添加了 :c:func:`PyFrame_GetVar` 和 :c:func:`PyFrame_GetVarString` "
"函数用于通过名称来获取帧变量。 （由 Victor Stinner 在 :gh:`91248` 中贡献。）"

#: ../../whatsnew/3.12.rst:1789
msgid ""
"Add :c:func:`PyErr_GetRaisedException` and "
":c:func:`PyErr_SetRaisedException` for saving and restoring the current "
"exception. These functions return and accept a single exception object, "
"rather than the triple arguments of the now-deprecated :c:func:`PyErr_Fetch`"
" and :c:func:`PyErr_Restore`. This is less error prone and a bit more "
"efficient. (Contributed by Mark Shannon in :gh:`101578`.)"
msgstr ""
"添加 :c:func:`PyErr_GetRaisedException` 和 :c:func:`PyErr_SetRaisedException` "
"用于保存和恢复当前异常。 这些函数返回并接受单个异常对象，而不是像现在已弃用的 :c:func:`PyErr_Fetch` 和 "
":c:func:`PyErr_Restore` 那样的三个参数。 这样不容易出错并且更为高效。 （由 Mark Shannon 在 "
":gh:`101578` 中贡献。）"

#: ../../whatsnew/3.12.rst:1797
msgid ""
"Add ``_PyErr_ChainExceptions1``, which takes an exception instance, to "
"replace the legacy-API ``_PyErr_ChainExceptions``, which is now deprecated. "
"(Contributed by Mark Shannon in :gh:`101578`.)"
msgstr ""
"添加了 ``_PyErr_ChainExceptions1``，它接受一个异常实例，用于取代旧式 API "
"``_PyErr_ChainExceptions``，后者现已被弃用。 （由 Mark Shannon 在 :gh:`101578` 中贡献。）"

#: ../../whatsnew/3.12.rst:1801
msgid ""
"Add :c:func:`PyException_GetArgs` and :c:func:`PyException_SetArgs` as "
"convenience functions for retrieving and modifying the "
":attr:`~BaseException.args` passed to the exception's constructor. "
"(Contributed by Mark Shannon in :gh:`101578`.)"
msgstr ""
"添加了 :c:func:`PyException_GetArgs` 和 :c:func:`PyException_SetArgs` "
"作为便捷函数用于检索和修改传递给异常的构造函数的 :attr:`~BaseException.args`。 （由 Mark Shannon 在 "
":gh:`101578` 中贡献。）"

#: ../../whatsnew/3.12.rst:1806
msgid ""
"Add :c:func:`PyErr_DisplayException`, which takes an exception instance, to "
"replace the legacy-api :c:func:`!PyErr_Display`. (Contributed by Irit "
"Katriel in :gh:`102755`)."
msgstr ""
"添加了 :c:func:`PyErr_DisplayException`，它接受一个异常实例，用于取代旧式 API "
":c:func:`!PyErr_Display`。 （由 Irit Katriel 在 :gh:`102755` 中贡献。）"

#: ../../whatsnew/3.12.rst:1810
msgid ""
":pep:`683`: Introduced Immortal Objects to Python which allows objects to "
"bypass reference counts and introduced changes to the C-API:"
msgstr ":pep:`683`: 在 Python 中引入了永生对象，它允许对象绕过引用计数，并对 C-API 进行了相应修改:"

#: ../../whatsnew/3.12.rst:1813
msgid "``_Py_IMMORTAL_REFCNT``: The reference count that defines an object"
msgstr "``_Py_IMMORTAL_REFCNT``: 定义对象的引用计数"

#: ../../whatsnew/3.12.rst:1814
msgid "as immortal."
msgstr "为永生对象。"

#: ../../whatsnew/3.12.rst:1815
msgid ""
"``_Py_IsImmortal`` Checks if an object has the immortal reference count."
msgstr "``_Py_IsImmortal`` 检测一个对象是否具有永生引用计数。"

#: ../../whatsnew/3.12.rst:1816
msgid "``PyObject_HEAD_INIT`` This will now initialize reference count to"
msgstr "``PyObject_HEAD_INIT`` 这将把引用计数初始化为"

#: ../../whatsnew/3.12.rst:1817
msgid "``_Py_IMMORTAL_REFCNT`` when used with ``Py_BUILD_CORE``."
msgstr "``_Py_IMMORTAL_REFCNT`` 当配合 ``Py_BUILD_CORE`` 使用时。"

#: ../../whatsnew/3.12.rst:1818
msgid ""
"``SSTATE_INTERNED_IMMORTAL`` An identifier for interned unicode objects"
msgstr "``SSTATE_INTERNED_IMMORTAL`` 一个针对内部 unicode 对象的标识符"

#: ../../whatsnew/3.12.rst:1819
msgid "that are immortal."
msgstr "为永生对象。"

#: ../../whatsnew/3.12.rst:1820
msgid "``SSTATE_INTERNED_IMMORTAL_STATIC`` An identifier for interned unicode"
msgstr "``SSTATE_INTERNED_IMMORTAL_STATIC`` 一个针对内部 unicode"

#: ../../whatsnew/3.12.rst:1821
msgid "objects that are immortal and static"
msgstr "为永生且静态的对象"

#: ../../whatsnew/3.12.rst:1824
msgid ""
"``sys.getunicodeinternedsize`` This returns the total number of unicode"
msgstr "``sys.getunicodeinternedsize`` 这将返回总计的 unicode"

#: ../../whatsnew/3.12.rst:1823
msgid ""
"objects that have been interned. This is now needed for refleak.py to "
"correctly track reference counts and allocated blocks"
msgstr "被管理的对象。 现在 refleak.py 需要这样才能正确地追踪引用计数和分配的块"

#: ../../whatsnew/3.12.rst:1826
msgid "(Contributed by Eddie Elizondo in :gh:`84436`.)"
msgstr "（由 Eddie Elizondo 在 :gh:`84436` 中贡献。）"

#: ../../whatsnew/3.12.rst:1828
msgid ""
":pep:`684`: Added the new :c:func:`Py_NewInterpreterFromConfig` function and"
" :c:type:`PyInterpreterConfig`, which may be used to create sub-interpreters"
" with their own GILs. (See :ref:`whatsnew312-pep684` for more info.) "
"(Contributed by Eric Snow in :gh:`104110`.)"
msgstr ""
":pep:`684`: 新增了 :c:func:`Py_NewInterpreterFromConfig` 函数和 "
":c:type:`PyInterpreterConfig`，可用于创建具有单独 GIL 的子解释器。 （更多信息参见 "
":ref:`whatsnew312-pep684`。） （由 Eric Snow 在 :gh:`104110` 中贡献。）"

#: ../../whatsnew/3.12.rst:1834
msgid ""
"In the limited C API version 3.12, :c:func:`Py_INCREF` and "
":c:func:`Py_DECREF` functions are now implemented as opaque function calls "
"to hide implementation details. (Contributed by Victor Stinner in "
":gh:`105387`.)"
msgstr ""
"在 3.12 版的受限 C API 中，:c:func:`Py_INCREF` 和 :c:func:`Py_DECREF` "
"函数现在使用不透明函数调用的方式实现以隐藏实现细节。 （由 Victor Stinner 在 :gh:`105387` 中贡献。）"

#: ../../whatsnew/3.12.rst:1842
msgid ""
"Legacy Unicode APIs based on ``Py_UNICODE*`` representation has been "
"removed. Please migrate to APIs based on UTF-8 or ``wchar_t*``."
msgstr ""
"基于 ``Py_UNICODE*`` 表示形式的旧式 Unicode API 已被移除。 请迁移到基于 UTF-8 或 ``wchar_t*`` 的 "
"API。"

#: ../../whatsnew/3.12.rst:1845
msgid ""
"Argument parsing functions like :c:func:`PyArg_ParseTuple` doesn't support "
"``Py_UNICODE*`` based format (e.g. ``u``, ``Z``) anymore. Please migrate to "
"other formats for Unicode like ``s``, ``z``, ``es``, and ``U``."
msgstr ""
":c:func:`PyArg_ParseTuple` 等参数解析函数不再支持基于 ``Py_UNICODE*`` 的格式（例如 ``u``, ``Z``"
" 等）。 请迁移到其他 Unicode 格式如 ``s``, ``z``, ``es`` 和 ``U``。"

#: ../../whatsnew/3.12.rst:1849
msgid ""
"``tp_weaklist`` for all static builtin types is always ``NULL``. This is an "
"internal-only field on ``PyTypeObject`` but we're pointing out the change in"
" case someone happens to be accessing the field directly anyway.  To avoid "
"breakage, consider using the existing public C-API instead, or, if "
"necessary, the (internal-only) ``_PyObject_GET_WEAKREFS_LISTPTR()`` macro."
msgstr ""
"``tp_weaklist`` 对于所有静态内置类型将始终为 ``NULL``。 这是 ``PyTypeObject`` "
"上的一个内部专属字段，但我们还是要指出这一变化以防有人碰巧仍然直接访问到该字段。 为避免出现中断，请考虑改用现有的公共 "
"C-API，或在必要时使用（仅限内部使用的）宏 ``_PyObject_GET_WEAKREFS_LISTPTR()``。 "

#: ../../whatsnew/3.12.rst:1856
msgid ""
"This internal-only :c:member:`PyTypeObject.tp_subclasses` may now not be a "
"valid object pointer.  Its type was changed to :c:expr:`void *` to reflect "
"this.  We mention this in case someone happens to be accessing the internal-"
"only field directly."
msgstr ""
"现在这个内部专用的 :c:member:`PyTypeObject.tp_subclasses` 可能不是一个有效的对象指针。 "
"为了反映这一点我们将其类型改为 :c:expr:`void*`。 我们提到这一点是为了防止有人碰巧直接访问到这个内部专用字段。"

#: ../../whatsnew/3.12.rst:1861
msgid ""
"To get a list of subclasses, call the Python method "
":py:meth:`~class.__subclasses__` (using :c:func:`PyObject_CallMethod`, for "
"example)."
msgstr ""
"要获取子类的列表，请调用 Python 方法 :py:meth:`~class.__subclasses__` (例如使用 "
":c:func:`PyObject_CallMethod`)。"

#: ../../whatsnew/3.12.rst:1865
msgid ""
"Add support of more formatting options (left aligning, octals, uppercase "
"hexadecimals, :c:type:`intmax_t`, :c:type:`ptrdiff_t`, :c:type:`wchar_t` C "
"strings, variable width and precision) in :c:func:`PyUnicode_FromFormat` and"
" :c:func:`PyUnicode_FromFormatV`. (Contributed by Serhiy Storchaka in "
":gh:`98836`.)"
msgstr ""
"在 :c:func:`PyUnicode_FromFormat` 和 :c:func:`PyUnicode_FromFormatV` "
"中添加对更多格式选项（左对齐、八进制、大写十六进制、:c:type:`intmax_t`、:c:type:`ptrdiff_t`、:c:type:`wchar_t`"
" C 字符串、可变宽度和精度）的支持。 （由 Serhiy Storchaka 在 :gh:`98836` 中贡献。）"

#: ../../whatsnew/3.12.rst:1871
msgid ""
"An unrecognized format character in :c:func:`PyUnicode_FromFormat` and "
":c:func:`PyUnicode_FromFormatV` now sets a :exc:`SystemError`. In previous "
"versions it caused all the rest of the format string to be copied as-is to "
"the result string, and any extra arguments discarded. (Contributed by Serhiy"
" Storchaka in :gh:`95781`.)"
msgstr ""
":c:func:`PyUnicode_FromFormat` 和 :c:func:`PyUnicode_FromFormatV` "
"中未被识别的格式字符现在会设置一个 :exc:`SystemError`。 "
"在之前的版本中它会导致格式字符串的所有其他部分被原样复制到结果字符串中，并丢弃任何额外的参数。 （由 Serhiy Storchaka 在 "
":gh:`95781` 中贡献。）"

#: ../../whatsnew/3.12.rst:1877
msgid ""
"Fixed wrong sign placement in :c:func:`PyUnicode_FromFormat` and "
":c:func:`PyUnicode_FromFormatV`. (Contributed by Philip Georgi in "
":gh:`95504`.)"
msgstr ""
"修复了 :c:func:`PyUnicode_FromFormat` 和 :c:func:`PyUnicode_FromFormatV` "
"中错误的标志位置。 （由 Philip Georgi 在 :gh:`95504` 中贡献。）"

#: ../../whatsnew/3.12.rst:1881
msgid ""
"Extension classes wanting to add a ``__dict__`` or weak reference slot "
"should use :c:macro:`Py_TPFLAGS_MANAGED_DICT` and "
":c:macro:`Py_TPFLAGS_MANAGED_WEAKREF` instead of ``tp_dictoffset`` and "
"``tp_weaklistoffset``, respectively. The use of ``tp_dictoffset`` and "
"``tp_weaklistoffset`` is still supported, but does not fully support "
"multiple inheritance (:gh:`95589`), and performance may be worse. Classes "
"declaring :c:macro:`Py_TPFLAGS_MANAGED_DICT` should call "
":c:func:`!_PyObject_VisitManagedDict` and "
":c:func:`!_PyObject_ClearManagedDict` to traverse and clear their instance's"
" dictionaries. To clear weakrefs, call :c:func:`PyObject_ClearWeakRefs`, as "
"before."
msgstr ""
"希望添加 ``__dict__`` 或弱引用槽位的扩展类应分别使用 :c:macro:`Py_TPFLAGS_MANAGED_DICT` 和 "
":c:macro:`Py_TPFLAGS_MANAGED_WEAKREF` 来代替 ``tp_dictoffset`` 和 "
"``tp_weaklistoffset``。 目前仍支持使用 ``tp_dictoffset`` 和 "
"``tp_weaklistoffset``，但并不完全支持多重继承 (:gh:`95589`)，而且性能可能会变差。 声明了 "
":c:macro:`Py_TPFLAGS_MANAGED_DICT` 的类应当调用 "
":c:func:`!_PyObject_VisitManagedDict` 和 "
":c:func:`!_PyObject_ClearManagedDict` 来遍历并清除它们的实例的字典。 要清除弱引用，请像之前一样调用 "
":c:func:`PyObject_ClearWeakRefs`。"

#: ../../whatsnew/3.12.rst:1893
msgid ""
"The :c:func:`PyUnicode_FSDecoder` function no longer accepts bytes-like "
"paths, like :class:`bytearray` and :class:`memoryview` types: only the exact"
" :class:`bytes` type is accepted for bytes strings. (Contributed by Victor "
"Stinner in :gh:`98393`.)"
msgstr ""
":c:func:`PyUnicode_FSDecoder` 函数不再接受类似字节串的路径，如 :class:`bytearray` 和 "
":class:`memoryview` 类型：只接受明确的 :class:`bytes` 类型字节字符串。 （由 Victor Stinner 在 "
":gh:`98393` 中贡献。）"

#: ../../whatsnew/3.12.rst:1898
msgid ""
"The :c:macro:`Py_CLEAR`, :c:macro:`Py_SETREF` and :c:macro:`Py_XSETREF` "
"macros now only evaluate their arguments once. If an argument has side "
"effects, these side effects are no longer duplicated. (Contributed by Victor"
" Stinner in :gh:`98724`.)"
msgstr ""
":c:macro:`Py_CLEAR`、:c:macro:`Py_SETREF` 和 :c:macro:`Py_XSETREF` "
"宏现在只会对其参数求值一次。如果参数有附带影响，这些附带影响将不会再重复。 （由 Victor Stinner 在 :gh:`98724` 中贡献。）"

#: ../../whatsnew/3.12.rst:1903
msgid ""
"The interpreter's error indicator is now always normalized. This means that "
":c:func:`PyErr_SetObject`, :c:func:`PyErr_SetString` and the other functions"
" that set the error indicator now normalize the exception before storing it."
" (Contributed by Mark Shannon in :gh:`101578`.)"
msgstr ""
"解释器的错误指示器现在总是规范化的。 这意味着 :c:func:`PyErr_SetObject`、:c:func:`PyErr_SetString` "
"以及其他设置错误指示器的函数在保存异常之前都会将其规范化。 （由 Mark Shannon 在 :gh:`101578` 中贡献。）"

#: ../../whatsnew/3.12.rst:1908
msgid ""
"``_Py_RefTotal`` is no longer authoritative and only kept around for ABI "
"compatibility.  Note that it is an internal global and only available on "
"debug builds.  If you happen to be using it then you'll need to start using "
"``_Py_GetGlobalRefTotal()``."
msgstr ""
"``_Py_RefTotal`` 已不再具有重要性而保留它只是为了 ABI 的兼容性。 请注意，这是一个内部全局变量并且仅在调试版本中可用。 "
"如果你碰巧要使用它那么你需要开始使用 ``_Py_GetGlobalRefTotal()``。"

#: ../../whatsnew/3.12.rst:1913
msgid ""
"The following functions now select an appropriate metaclass for the newly "
"created type:"
msgstr "下面的函数将为新创建的类型选择一个合适的元类:"

#: ../../whatsnew/3.12.rst:1916
msgid ":c:func:`PyType_FromSpec`"
msgstr ":c:func:`PyType_FromSpec`"

#: ../../whatsnew/3.12.rst:1917
msgid ":c:func:`PyType_FromSpecWithBases`"
msgstr ":c:func:`PyType_FromSpecWithBases`"

#: ../../whatsnew/3.12.rst:1918
msgid ":c:func:`PyType_FromModuleAndSpec`"
msgstr ":c:func:`PyType_FromModuleAndSpec`"

#: ../../whatsnew/3.12.rst:1920
msgid ""
"Creating classes whose metaclass overrides :c:member:`~PyTypeObject.tp_new` "
"is deprecated, and in Python 3.14+ it will be disallowed. Note that these "
"functions ignore ``tp_new`` of the metaclass, possibly allowing incomplete "
"initialization."
msgstr ""
"创建具有重载了 :c:member:`~PyTypeObject.tp_new` 的元类的类的做法已被弃用，在 Python 3.14+ 中将被禁止。 "
"请注意这些函数会忽略元类的 ``tp_new``，从而可能导致不完整的初始化。"

#: ../../whatsnew/3.12.rst:1925
msgid ""
"Note that :c:func:`PyType_FromMetaclass` (added in Python 3.12) already "
"disallows creating classes whose metaclass overrides ``tp_new`` "
"(:meth:`~object.__new__` in Python)."
msgstr ""
"请注意 :c:func:`PyType_FromMetaclass` (在 Python 3.12 中新增) 已禁止创建具有重载了 ``tp_new``"
" (在 Python 中为 :meth:`~object.__new__` ) 的元类的类。"

#: ../../whatsnew/3.12.rst:1929
msgid ""
"Since ``tp_new`` overrides almost everything ``PyType_From*`` functions do, "
"the two are incompatible with each other. The existing behavior -- ignoring "
"the metaclass for several steps of type creation -- is unsafe in general, "
"since (meta)classes assume that ``tp_new`` was called. There is no simple "
"general workaround. One of the following may work for you:"
msgstr ""
"由于 ``tp_new`` 重载了``PyType_From*`` 函数的几乎所有内容，因此两者互不兼容。 现有的行为 -- "
"在创建类型的一些步骤中忽略元类 -- 通常都是不安全的，因为（元）类会假定 ``tp_new`` 已被调用。 目前还没有简单通用的绕过方式。 "
"以下办法之一可能对你有用:"

#: ../../whatsnew/3.12.rst:1936
msgid "If you control the metaclass, avoid using ``tp_new`` in it:"
msgstr "如果你控制着元类，请避免在其中使用 ``tp_new``:"

#: ../../whatsnew/3.12.rst:1938
msgid ""
"If initialization can be skipped, it can be done in "
":c:member:`~PyTypeObject.tp_init` instead."
msgstr "如初始化可被跳过，则可以改在 :c:member:`~PyTypeObject.tp_init` 中完成。"

#: ../../whatsnew/3.12.rst:1940
msgid ""
"If the metaclass doesn't need to be instantiated from Python, set its "
"``tp_new`` to ``NULL`` using the "
":c:macro:`Py_TPFLAGS_DISALLOW_INSTANTIATION` flag. This makes it acceptable "
"for ``PyType_From*`` functions."
msgstr ""
"如果元类不需要从 Python 执行实例化，则使用 :c:macro:`Py_TPFLAGS_DISALLOW_INSTANTIATION` 旗标将其 "
"``tp_new`` 设为 ``NULL``。 这将使其可被 ``PyType_From*`` 函数接受。"

#: ../../whatsnew/3.12.rst:1945
msgid ""
"Avoid ``PyType_From*`` functions: if you don't need C-specific features "
"(slots or setting the instance size), create types by :ref:`calling <call>` "
"the metaclass."
msgstr ""
"避免使用 ``PyType_From*`` 函数：如果不需要 C 专属的特性（槽位或设置实例大小），请通过 :ref:`调用 <call>` "
"元类来创建类型。"

#: ../../whatsnew/3.12.rst:1949
msgid ""
"If you *know* the ``tp_new`` can be skipped safely, filter the deprecation "
"warning out using :func:`warnings.catch_warnings` from Python."
msgstr ""
"如果你 *知道* 可以安全地跳过 ``tp_new``，就使用 Python 中的 :func:`warnings.catch_warnings` "
"过滤掉弃用警告。"

#: ../../whatsnew/3.12.rst:1952
msgid ""
":c:var:`PyOS_InputHook` and :c:var:`PyOS_ReadlineFunctionPointer` are no "
"longer called in :ref:`subinterpreters <sub-interpreter-support>`. This is "
"because clients generally rely on process-wide global state (since these "
"callbacks have no way of recovering extension module state)."
msgstr ""
":c:var:`PyOS_InputHook` 和 :c:var:`PyOS_ReadlineFunctionPointer` 将不再在 "
":ref:`子解释器 <sub-interpreter-support>` 中被调用。 "
"这是因为客户端通常依赖进程级的全局状态（而这些回调没有办法恢复扩展模块状态）。"

#: ../../whatsnew/3.12.rst:1957
msgid ""
"This also avoids situations where extensions may find themselves running in "
"a subinterpreter that they don't support (or haven't yet been loaded in). "
"See :gh:`104668` for more info."
msgstr "这也避免了扩展程序在不支持（或尚未被加载）的子解释器中运行的情况。 请参阅 :gh:`104668` 了解更多信息。"

#: ../../whatsnew/3.12.rst:1961
msgid ""
":c:struct:`PyLongObject` has had its internals changed for better "
"performance. Although the internals of :c:struct:`PyLongObject` are private,"
" they are used by some extension modules. The internal fields should no "
"longer be accessed directly, instead the API functions beginning "
"``PyLong_...`` should be used instead. Two new *unstable* API functions are "
"provided for efficient access to the value of :c:struct:`PyLongObject`\\s "
"which fit into a single machine word:"
msgstr ""
":c:struct:`PyLongObject` 对其内部字段进行了修改以提高性能。 虽然 :c:struct:`PyLongObject` "
"的内部字段是私有的，但某些扩展模块会使用它们。 内部字段不应再被直接访问，而应改用以 ``PyLong_...`` 打头的 API 函数。 新增了两个 "
"*暂定* API 函数用于高效访问适配至单个机器字的 :c:struct:`PyLongObject` 的值:"

#: ../../whatsnew/3.12.rst:1969
msgid ":c:func:`PyUnstable_Long_IsCompact`"
msgstr ":c:func:`PyUnstable_Long_IsCompact`"

#: ../../whatsnew/3.12.rst:1970
msgid ":c:func:`PyUnstable_Long_CompactValue`"
msgstr ":c:func:`PyUnstable_Long_CompactValue`"

#: ../../whatsnew/3.12.rst:1972
msgid ""
"Custom allocators, set via :c:func:`PyMem_SetAllocator`, are now required to"
" be thread-safe, regardless of memory domain.  Allocators that don't have "
"their own state, including \"hooks\", are not affected. If your custom "
"allocator is not already thread-safe and you need guidance then please "
"create a new GitHub issue and CC ``@ericsnowcurrently``."
msgstr ""
"通过 :c:func:`PyMem_SetAllocator` 设置的自定义分配器现在必须是线程安全的，无论内存域是什么。 "
"没有自己的状态的分配器，包括“钩子”将不会受影响。 如果你的自定义分配器还不是线程安全的且你需要指导则请创建一个新的 GitHub 问题并抄送给 "
"``@ericsnowcurrently``。"

#: ../../whatsnew/3.12.rst:1982
msgid "Deprecate global configuration variable:"
msgstr "已弃用的全局配置变量:"

#: ../../whatsnew/3.12.rst:1984
msgid ":c:var:`Py_DebugFlag`: use :c:member:`PyConfig.parser_debug`"
msgstr ":c:var:`Py_DebugFlag`: 使用 :c:member:`PyConfig.parser_debug`"

#: ../../whatsnew/3.12.rst:1985
msgid ":c:var:`Py_VerboseFlag`: use :c:member:`PyConfig.verbose`"
msgstr ":c:var:`Py_VerboseFlag`: 使用 :c:member:`PyConfig.verbose`"

#: ../../whatsnew/3.12.rst:1986
msgid ":c:var:`Py_QuietFlag`: use :c:member:`PyConfig.quiet`"
msgstr ":c:var:`Py_QuietFlag`: 使用 :c:member:`PyConfig.quiet`"

#: ../../whatsnew/3.12.rst:1987
msgid ":c:var:`Py_InteractiveFlag`: use :c:member:`PyConfig.interactive`"
msgstr ":c:var:`Py_InteractiveFlag`: 使用 :c:member:`PyConfig.interactive`"

#: ../../whatsnew/3.12.rst:1988
msgid ":c:var:`Py_InspectFlag`: use :c:member:`PyConfig.inspect`"
msgstr ":c:var:`Py_InspectFlag`: 使用 :c:member:`PyConfig.inspect`"

#: ../../whatsnew/3.12.rst:1989
msgid ":c:var:`Py_OptimizeFlag`: use :c:member:`PyConfig.optimization_level`"
msgstr ":c:var:`Py_OptimizeFlag`: 使用 :c:member:`PyConfig.optimization_level`"

#: ../../whatsnew/3.12.rst:1990
msgid ":c:var:`Py_NoSiteFlag`: use :c:member:`PyConfig.site_import`"
msgstr ":c:var:`Py_NoSiteFlag`: 使用 :c:member:`PyConfig.site_import`"

#: ../../whatsnew/3.12.rst:1991
msgid ":c:var:`Py_BytesWarningFlag`: use :c:member:`PyConfig.bytes_warning`"
msgstr ":c:var:`Py_BytesWarningFlag`: 使用 :c:member:`PyConfig.bytes_warning`"

#: ../../whatsnew/3.12.rst:1992
msgid ":c:var:`Py_FrozenFlag`: use :c:member:`PyConfig.pathconfig_warnings`"
msgstr ":c:var:`Py_FrozenFlag`: 使用 :c:member:`PyConfig.pathconfig_warnings`"

#: ../../whatsnew/3.12.rst:1993
msgid ""
":c:var:`Py_IgnoreEnvironmentFlag`: use :c:member:`PyConfig.use_environment`"
msgstr ""
":c:var:`Py_IgnoreEnvironmentFlag`: 使用 :c:member:`PyConfig.use_environment`"

#: ../../whatsnew/3.12.rst:1994
msgid ""
":c:var:`Py_DontWriteBytecodeFlag`: use :c:member:`PyConfig.write_bytecode`"
msgstr ""
":c:var:`Py_DontWriteBytecodeFlag`: 使用 :c:member:`PyConfig.write_bytecode`"

#: ../../whatsnew/3.12.rst:1995
msgid ""
":c:var:`Py_NoUserSiteDirectory`: use "
":c:member:`PyConfig.user_site_directory`"
msgstr ""
":c:var:`Py_NoUserSiteDirectory`: 使用 :c:member:`PyConfig.user_site_directory`"

#: ../../whatsnew/3.12.rst:1996
msgid ""
":c:var:`Py_UnbufferedStdioFlag`: use :c:member:`PyConfig.buffered_stdio`"
msgstr ""
":c:var:`Py_UnbufferedStdioFlag`: 使用 :c:member:`PyConfig.buffered_stdio`"

#: ../../whatsnew/3.12.rst:1997
msgid ""
":c:var:`Py_HashRandomizationFlag`: use :c:member:`PyConfig.use_hash_seed` "
"and :c:member:`PyConfig.hash_seed`"
msgstr ""
":c:var:`Py_HashRandomizationFlag`: 使用 :c:member:`PyConfig.use_hash_seed` 和 "
":c:member:`PyConfig.hash_seed`"

#: ../../whatsnew/3.12.rst:1999
msgid ":c:var:`Py_IsolatedFlag`: use :c:member:`PyConfig.isolated`"
msgstr ":c:var:`Py_IsolatedFlag`: 使用 :c:member:`PyConfig.isolated`"

#: ../../whatsnew/3.12.rst:2000
msgid ""
":c:var:`Py_LegacyWindowsFSEncodingFlag`: use "
":c:member:`PyPreConfig.legacy_windows_fs_encoding`"
msgstr ""
":c:var:`Py_LegacyWindowsFSEncodingFlag`: 使用 "
":c:member:`PyPreConfig.legacy_windows_fs_encoding`"

#: ../../whatsnew/3.12.rst:2001
msgid ""
":c:var:`Py_LegacyWindowsStdioFlag`: use "
":c:member:`PyConfig.legacy_windows_stdio`"
msgstr ""
":c:var:`Py_LegacyWindowsStdioFlag`: 使用 "
":c:member:`PyConfig.legacy_windows_stdio`"

#: ../../whatsnew/3.12.rst:2002
msgid ""
":c:var:`!Py_FileSystemDefaultEncoding`: use "
":c:member:`PyConfig.filesystem_encoding`"
msgstr ""
":c:var:`!Py_FileSystemDefaultEncoding`: 使用 "
":c:member:`PyConfig.filesystem_encoding`"

#: ../../whatsnew/3.12.rst:2003
msgid ""
":c:var:`!Py_HasFileSystemDefaultEncoding`: use "
":c:member:`PyConfig.filesystem_encoding`"
msgstr ""
":c:var:`!Py_HasFileSystemDefaultEncoding`: 使用 "
":c:member:`PyConfig.filesystem_encoding`"

#: ../../whatsnew/3.12.rst:2004
msgid ""
":c:var:`!Py_FileSystemDefaultEncodeErrors`: use "
":c:member:`PyConfig.filesystem_errors`"
msgstr ""
":c:var:`!Py_FileSystemDefaultEncodeErrors`: 使用 "
":c:member:`PyConfig.filesystem_errors`"

#: ../../whatsnew/3.12.rst:2005
msgid ""
":c:var:`!Py_UTF8Mode`: use :c:member:`PyPreConfig.utf8_mode` (see "
":c:func:`Py_PreInitialize`)"
msgstr ""
":c:var:`!Py_UTF8Mode`: 使用 :c:member:`PyPreConfig.utf8_mode` (参见 "
":c:func:`Py_PreInitialize`)"

#: ../../whatsnew/3.12.rst:2007
msgid ""
"The :c:func:`Py_InitializeFromConfig` API should be used with "
":c:type:`PyConfig` instead. (Contributed by Victor Stinner in :gh:`77782`.)"
msgstr ""
":c:func:`Py_InitializeFromConfig` API 应当改为使用 :c:type:`PyConfig`。 （由 Victor "
"Stinner 在 :gh:`77782` 中贡献。）"

#: ../../whatsnew/3.12.rst:2011
msgid ""
"Creating immutable types (:c:macro:`Py_TPFLAGS_IMMUTABLETYPE`) with mutable "
"bases is deprecated and will be disabled in Python 3.14."
msgstr ""
"使用可变基类创建不可变类型 (:c:macro:`Py_TPFLAGS_IMMUTABLETYPE`) 的做法已被弃用并将在 Python 3.14 "
"中禁用。"

#: ../../whatsnew/3.12.rst:2014
msgid ""
"The ``structmember.h`` header is deprecated, though it continues to be "
"available and there are no plans to remove it."
msgstr "``structmember.h`` 头文件已被弃用，不过它仍可继续使用也没有计划将其移除。"

#: ../../whatsnew/3.12.rst:2017
msgid ""
"Its contents are now available just by including ``Python.h``, with a ``Py``"
" prefix added if it was missing:"
msgstr "现在只需包括 ``Python.h`` 即可获得其内容，如果找不到请添加 ``Py`` 前缀:"

#: ../../whatsnew/3.12.rst:2020
msgid ""
":c:struct:`PyMemberDef`, :c:func:`PyMember_GetOne` and "
":c:func:`PyMember_SetOne`"
msgstr ""
":c:struct:`PyMemberDef`, :c:func:`PyMember_GetOne` 和 "
":c:func:`PyMember_SetOne`"

#: ../../whatsnew/3.12.rst:2022
msgid ""
"Type macros like :c:macro:`Py_T_INT`, :c:macro:`Py_T_DOUBLE`, etc. "
"(previously ``T_INT``, ``T_DOUBLE``, etc.)"
msgstr ""
"类型宏如 :c:macro:`Py_T_INT`, :c:macro:`Py_T_DOUBLE` 等（之前为 ``T_INT``, "
"``T_DOUBLE`` 等）"

#: ../../whatsnew/3.12.rst:2024
msgid ""
"The flags :c:macro:`Py_READONLY` (previously ``READONLY``) and "
":c:macro:`Py_AUDIT_READ` (previously all uppercase)"
msgstr ""
"旗标 :c:macro:`Py_READONLY` (之前为 ``READONLY``) 和 :c:macro:`Py_AUDIT_READ` "
"(之前为全大写形式)"

#: ../../whatsnew/3.12.rst:2027
msgid "Several items are not exposed from ``Python.h``:"
msgstr "部分条目未从 ``Python.h`` 对外公开:"

#: ../../whatsnew/3.12.rst:2029
msgid ":c:macro:`T_OBJECT` (use :c:macro:`Py_T_OBJECT_EX`)"
msgstr ":c:macro:`T_OBJECT` (使用 :c:macro:`Py_T_OBJECT_EX`)"

#: ../../whatsnew/3.12.rst:2030
msgid ":c:macro:`T_NONE` (previously undocumented, and pretty quirky)"
msgstr ":c:macro:`T_NONE` (之前未写入文档，并且相当怪异)"

#: ../../whatsnew/3.12.rst:2031
msgid "The macro ``WRITE_RESTRICTED`` which does nothing."
msgstr "不进行任何操作的宏 ``WRITE_RESTRICTED``。"

#: ../../whatsnew/3.12.rst:2032
msgid ""
"The macros ``RESTRICTED`` and ``READ_RESTRICTED``, equivalents of "
":c:macro:`Py_AUDIT_READ`."
msgstr "``RESTRICTED`` 和 ``READ_RESTRICTED`` 宏，等同于 :c:macro:`Py_AUDIT_READ`。"

#: ../../whatsnew/3.12.rst:2034
msgid ""
"In some configurations, ``<stddef.h>`` is not included from ``Python.h``. It"
" should be included manually when using ``offsetof()``."
msgstr ""
"在某些配置中，``Python.h`` 未被 ``<stddef.h>`` 包括。 在使用 ``offsetof()`` 时应当手动包括它。"

#: ../../whatsnew/3.12.rst:2037
msgid ""
"The deprecated header continues to provide its original contents under the "
"original names. Your old code can stay unchanged, unless the extra include "
"and non-namespaced macros bother you greatly."
msgstr "已被弃用的头文件将继续以原来的名称提供原来的内容。 你的旧代码可以保持不变，除非额外的包括指令和无命名空间宏会给你带来很大困扰。"

#: ../../whatsnew/3.12.rst:2042
msgid ""
"(Contributed in :gh:`47146` by Petr Viktorin, based on earlier work by "
"Alexander Belopolsky and Matthias Braun.)"
msgstr ""
"（由 Petr Viktorin 在 :gh:`47146` 中贡献，基于 Alexander Belopolsky 和 Matthias Braun "
"在先前的工作。）.)"

#: ../../whatsnew/3.12.rst:2045
msgid ""
":c:func:`PyErr_Fetch` and :c:func:`PyErr_Restore` are deprecated. Use "
":c:func:`PyErr_GetRaisedException` and :c:func:`PyErr_SetRaisedException` "
"instead. (Contributed by Mark Shannon in :gh:`101578`.)"
msgstr ""
":c:func:`PyErr_Fetch` 和 :c:func:`PyErr_Restore` 已被弃用。请使用 "
":c:func:`PyErr_GetRaisedException` 和 :c:func:`PyErr_SetRaisedException` "
"代替。(由 Mark Shannon 在:gh:`101578` 贡献）。   "

#: ../../whatsnew/3.12.rst:2050
msgid ""
":c:func:`!PyErr_Display` is deprecated. Use :c:func:`PyErr_DisplayException`"
" instead. (Contributed by Irit Katriel in :gh:`102755`)."
msgstr ""
":c:func:`!PyErr_Display` 已被弃用，请改用 :c:func:`PyErr_DisplayException`。 （由 Irit "
"Katriel 在 :gh:`102755` 中贡献。）"

#: ../../whatsnew/3.12.rst:2053
msgid ""
"``_PyErr_ChainExceptions`` is deprecated. Use ``_PyErr_ChainExceptions1`` "
"instead. (Contributed by Irit Katriel in :gh:`102192`.)"
msgstr ""
"``_PyErr_ChainExceptions`` 已被弃用。 请改用 ``_PyErr_ChainExceptions1``。 （由 Irit "
"Katriel 在 :gh:`102192` 中贡献。）"

#: ../../whatsnew/3.12.rst:2056
msgid ""
"Using :c:func:`PyType_FromSpec`, :c:func:`PyType_FromSpecWithBases` or "
":c:func:`PyType_FromModuleAndSpec` to create a class whose metaclass "
"overrides :c:member:`~PyTypeObject.tp_new` is deprecated. Call the metaclass"
" instead."
msgstr ""
"使用 :c:func:`PyType_FromSpec`, :c:func:`PyType_FromSpecWithBases` 或 "
":c:func:`PyType_FromModuleAndSpec` 来创建所属元类重载了 "
":c:member:`~PyTypeObject.tp_new` 的类的做法已被弃用。 请改为调用相应元类。is deprecated. Call "
"the metaclass instead."

#: ../../whatsnew/3.12.rst:2064
msgid ""
"Remove the ``token.h`` header file. There was never any public tokenizer C "
"API. The ``token.h`` header file was only designed to be used by Python "
"internals. (Contributed by Victor Stinner in :gh:`92651`.)"
msgstr ""
"移除了 ``token.h`` 头文件。 从来就没有任何公用的分词器 C API。 ``token.h`` 头文件只是为 Python "
"内部使用而设计的。 （由 Victor Stinner 在 :gh:`92651` 中贡献。）"

#: ../../whatsnew/3.12.rst:2069
msgid "Legacy Unicode APIs have been removed. See :pep:`623` for detail."
msgstr "旧式 Unicode API 已被移除。 请参阅 :pep:`623` 了解详情。for detail."

#: ../../whatsnew/3.12.rst:2071
msgid ":c:macro:`!PyUnicode_WCHAR_KIND`"
msgstr ":c:macro:`!PyUnicode_WCHAR_KIND`"

#: ../../whatsnew/3.12.rst:2072
msgid ":c:func:`!PyUnicode_AS_UNICODE`"
msgstr ":c:func:`!PyUnicode_AS_UNICODE`"

#: ../../whatsnew/3.12.rst:2073
msgid ":c:func:`!PyUnicode_AsUnicode`"
msgstr ":c:func:`!PyUnicode_AsUnicode`"

#: ../../whatsnew/3.12.rst:2074
msgid ":c:func:`!PyUnicode_AsUnicodeAndSize`"
msgstr ":c:func:`!PyUnicode_AsUnicodeAndSize`"

#: ../../whatsnew/3.12.rst:2075
msgid ":c:func:`!PyUnicode_AS_DATA`"
msgstr ":c:func:`!PyUnicode_AS_DATA`"

#: ../../whatsnew/3.12.rst:2076
msgid ":c:func:`!PyUnicode_FromUnicode`"
msgstr ":c:func:`!PyUnicode_FromUnicode`"

#: ../../whatsnew/3.12.rst:2077
msgid ":c:func:`!PyUnicode_GET_SIZE`"
msgstr ":c:func:`!PyUnicode_GET_SIZE`"

#: ../../whatsnew/3.12.rst:2078
msgid ":c:func:`!PyUnicode_GetSize`"
msgstr ":c:func:`!PyUnicode_GetSize`"

#: ../../whatsnew/3.12.rst:2079
msgid ":c:func:`!PyUnicode_GET_DATA_SIZE`"
msgstr ":c:func:`!PyUnicode_GET_DATA_SIZE`"

#: ../../whatsnew/3.12.rst:2081
msgid ""
"Remove the ``PyUnicode_InternImmortal()`` function macro. (Contributed by "
"Victor Stinner in :gh:`85858`.)"
msgstr ""
"移除了 ``PyUnicode_InternImmortal()`` 函数宏。 （由 Victor Stinner 在 :gh:`85858` "
"中贡献。）.)"

#: ../../whatsnew/3.12.rst:2084
msgid ""
"Remove ``Jython`` compatibility hacks from several stdlib modules and tests."
" (Contributed by Nikita Sobolev in :gh:`99482`.)"
msgstr ""
"从多个标准库模块和测试中移除了 ``Jython`` 兼容性处理。 （由 Nikita Sobolev 在 :gh:`99482` 中贡献。）"

#: ../../whatsnew/3.12.rst:2087
msgid ""
"Remove ``_use_broken_old_ctypes_structure_semantics_`` flag from "
":mod:`ctypes` module. (Contributed by Nikita Sobolev in :gh:`99285`.)"
msgstr ""
"从 :mod:`ctypes` 模块移除了 ``_use_broken_old_ctypes_structure_semantics_`` 旗标。 （由"
" Nikita Sobolev 在 :gh:`99285` 中贡献。）"
